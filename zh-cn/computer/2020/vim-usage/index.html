<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>vim-usage - 钱桑の记事本&gt;_</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="钱桑の记事本&gt;_"><meta name="msapplication-TileImage" content="/img/logo.jpg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="钱桑の记事本&gt;_"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="Learn Vim - Shart Smart Way Here comes a cheatsheet"><meta property="og:type" content="blog"><meta property="og:title" content="vim-usage"><meta property="og:url" content="https://magic0whi.github.io/zh-cn/computer/2020/vim-usage/"><meta property="og:site_name" content="钱桑の记事本&gt;_"><meta property="og:description" content="Learn Vim - Shart Smart Way Here comes a cheatsheet"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://magic0whi.github.io/img/og_image.png"><meta property="article:published_time" content="2020-09-05T05:39:28.000Z"><meta property="article:modified_time" content="2024-03-15T16:13:02.612Z"><meta property="article:author" content="Ndoskrnl"><meta property="twitter:card" content="summary"><meta property="twitter:image:src" content="https://magic0whi.github.io/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://magic0whi.github.io/zh-cn/computer/2020/vim-usage/"},"headline":"vim-usage","image":["https://magic0whi.github.io/img/og_image.png"],"datePublished":"2020-09-05T05:39:28.000Z","dateModified":"2024-03-15T16:13:02.612Z","author":{"@type":"Person","name":"Ndoskrnl"},"publisher":{"@type":"Organization","name":"钱桑の记事本>_","logo":{"@type":"ImageObject","url":"https://magic0whi.github.io/img/Comet_symbol.svg"}},"description":"Learn Vim - Shart Smart Way Here comes a cheatsheet"}</script><link rel="canonical" href="https://magic0whi.github.io/zh-cn/computer/2020/vim-usage/"><link rel="icon" href="/img/logo.jpg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.0.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@11.7.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css"><!--!--><!--!--><style>.pace{-webkit-pointer-events:none;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pace-inactive{display:none}.pace .pace-progress{background:#3273dc;position:fixed;z-index:2000;top:0;right:100%;width:100%;height:2px}</style><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><!-- hexo injector head_end start --><script>
  (function () {
      function switchTab() {
          if (!location.hash) {
            return;
          }

          const id = '#' + CSS.escape(location.hash.substring(1));
          const $tabMenu = document.querySelector(`.tabs a[href="${id}"]`);
          if (!$tabMenu) {
            return;
          }

          const $tabMenuContainer = $tabMenu.parentElement.parentElement;
          Array.from($tabMenuContainer.children).forEach($menu => $menu.classList.remove('is-active'));
          Array.from($tabMenuContainer.querySelectorAll('a'))
              .map($menu => document.getElementById($menu.getAttribute("href").substring(1)))
              .forEach($content => $content.classList.add('is-hidden'));

          if ($tabMenu) {
              $tabMenu.parentElement.classList.add('is-active');
          }
          const $activeTab = document.querySelector(id);
          if ($activeTab) {
              $activeTab.classList.remove('is-hidden');
          }
      }
      switchTab();
      window.addEventListener('hashchange', switchTab, false);
  })();
  </script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 7.1.1"></head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container navbar-container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/Comet_symbol.svg" alt="钱桑の记事本&gt;_" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a><a class="navbar-item" href="/peers">Peers</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a><a class="navbar-item is-hidden-tablet catalogue" title="Catalogue" href="javascript:;"><i class="fas fa-list-ul"></i></a><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-8-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2020-09-05T05:39:28.000Z" title="9/5/2020, 5:39:28 AM">2020-09-05</time></span><span class="level-item">Updated&nbsp;<time dateTime="2024-03-15T16:13:02.612Z" title="3/15/2024, 4:13:02 PM">2024-03-16</time></span><span class="level-item"><a class="link-muted" href="/categories/computer/">computer</a></span><span class="level-item">34 分钟 read (About 5037 words)</span></div></div><h1 class="title is-3 is-size-4-mobile">vim-usage</h1><div class="content"><p>Learn Vim - Shart Smart Way</p>
<p>Here comes a cheatsheet</p>
<span id="more"></span>

<p><code>&lt;S-a&gt;</code> means <code>Shift+A</code><br><code>&lt;C-a&gt;</code> means <code>Ctrl+A</code><br><code>&lt;CR&gt;</code> means <code>&lt;Enter&gt;</code> or <code>&lt;Return&gt;</code><br>i_<code>&lt;C-p&gt;</code> means <code>&lt;C-p&gt;</code> in Insert Mode<br>v_b_<code>g &lt;C-a&gt;</code> means <code>g &lt;C-a&gt;</code> in Visual Block-Wise Mode<br>{<code>a</code>,<code>b</code>,<code>c</code>} means either a or b or c<br>[<code>a</code>,<code>b</code>,<code>c</code>] means either a or b or c or none.</p>
<p>TODO: works to be merged<br><code>:t</code> (copy) method copies all matches to an address.<br><code>:j</code> join command join the lines<br><code>sort</code> sort command sort the lines<br>Spell Check:<br>{<code>]</code>,<code>[</code>}<code>s</code> Jump to next &#x2F; prev wrong word<br><code>z</code>[<code>u</code>]{<code>g</code>,<code>w</code>,<code>G</code>,<code>W</code>} Add &#x2F; Undo add good &#x2F; wrong word under cursor to <code>spellfile</code> &#x2F; or save to current session (Which is temporarily if you don&#39;t save session)<br><code>z=</code> Find suggestion of the word under cursor</p>
<h2 id="Ch-01-Starting-Vim"><a href="#Ch-01-Starting-Vim" class="headerlink" title="Ch 01. Starting Vim"></a>Ch 01. Starting Vim</h2><p>Open Vim with two horizontal windows: <code>vim -o2 </code>[<code>file1</code>]<code> </code>[<code>file2</code>]<br>Open Vim with two vertical windows: <code>vim -O2 </code>[<code>file1</code>]<code> </code>[<code>file2</code>]</p>
<h2 id="Ch-02-Buffers-Windows-and-Tabs"><a href="#Ch-02-Buffers-Windows-and-Tabs" class="headerlink" title="Ch 02 - Buffers, Windows, and Tabs"></a>Ch 02 - Buffers, Windows, and Tabs</h2><h3 id="Buffers"><a href="#Buffers" class="headerlink" title="Buffers"></a>Buffers</h3><table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td><code>:b</code>{<code>next</code>,<code>prev</code>,<code>first</code>,<code>last</code>}</td>
<td>Traverse buffers</td>
</tr>
<tr>
<td><code>:</code>[<code>w</code>]<code>qall</code></td>
<td>[Save] Close all</td>
</tr>
<tr>
<td><code>:</code>{<code>buffers</code>,<code>ls</code>,<code>files</code>}</td>
<td>List buffers</td>
</tr>
<tr>
<td><code>:bdelete</code></td>
<td>Remove current buffer</td>
</tr>
<tr>
<td><code>:</code>[<code>vertical </code>]<code>ball</code></td>
<td>Display all buffers {[vertically],horizontally}</td>
</tr>
<tr>
<td><code>&lt;C-^&gt;</code></td>
<td>Go to previously edited buffer</td>
</tr>
</tbody></table>
<h3 id="Windows"><a href="#Windows" class="headerlink" title="Windows"></a>Windows</h3><p>A window is how you are viewing a buffer through</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td><code>:</code>[<code>v</code>]<code>split </code>[<code>filename</code>]</td>
<td>Split window</td>
</tr>
<tr>
<td><code>:</code>[<code>vertical </code>]<code>sbuffer [N]</code></td>
<td>Split window by buffer [N].</td>
</tr>
<tr>
<td><code>&lt;C-w&gt; </code>{<code>h</code>,<code>j</code>,<code>k</code>,<code>l</code>}</td>
<td>Navigate</td>
</tr>
<tr>
<td><code>&lt;C-w&gt; </code>{<code>v</code>,<code>s</code>}</td>
<td>Opens a new {vertical,horizontal} split</td>
</tr>
<tr>
<td><code>&lt;C-w&gt; </code>{<code>c,o</code>}</td>
<td>Closes {focused window,all other windows}</td>
</tr>
<tr>
<td><code>&lt;C-w&gt; </code>{<code>r</code>,<code>R</code>,<code>H</code>,<code>J</code>,<code>K</code>,<code>L</code>}</td>
<td>Rotate focused window {down|right,up|left,far left,far bottom,far top,far right}</td>
</tr>
<tr>
<td><code>:</code>[<code>vertical </code>]<code>resize </code>{<code>80</code>,<code>+5</code>}</td>
<td>{Set,Increment} {[width],height} of focused window to {80,5}</td>
</tr>
<tr>
<td><code>&lt;C-w&gt; </code>{<code>-</code>,<code>+</code>,<code>_</code>,<code>&lt;</code>,<code>&gt;</code>,<code>|</code>,<code>=</code>}</td>
<td>{Decrease 1 ,increase 1 ,maximize row, decrease 1, increase 1, maximize column, equal balance} for current horizontal or vertical split</td>
</tr>
</tbody></table>
<h3 id="Tabs"><a href="#Tabs" class="headerlink" title="Tabs"></a>Tabs</h3><p>A tab is a collection of windows</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td><code>:tabnew </code>[<code>filename</code>]</td>
<td>Open a new tab</td>
</tr>
<tr>
<td><code>:tabclose</code></td>
<td>Close current tab</td>
</tr>
<tr>
<td><code>:tab</code>{<code>next,prev,last,first</code>}</td>
<td>Go to {next,previous,last,first tab}</td>
</tr>
</tbody></table>
<h2 id="Ch03-Searching-Files"><a href="#Ch03-Searching-Files" class="headerlink" title="Ch03. Searching Files"></a>Ch03. Searching Files</h2><h3 id="Searching-in-Files-With-Grep"><a href="#Searching-in-Files-With-Grep" class="headerlink" title="Searching in Files With Grep"></a>Searching in Files With Grep</h3><table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td><code>:find</code> &#x2F; <code>:edit</code></td>
<td><code>:find</code> finds file in path, <code>:edit</code> doesn&#39;t. Using <code>:set path+=&lt;your-path-here&gt;</code> to set.</td>
</tr>
<tr>
<td>1. <code>:vim /pattern/ file</code> <br> 2. <code>:grep -R &quot;pattern&quot; /search/path</code></td>
<td>Vim&#39;s search uses Quickfix Window.</td>
</tr>
<tr>
<td><code>:c</code>{<code>open</code>,<code>close</code>,<code>next</code>,<code>prev</code>,<code>older</code>,<code>newer</code>,<code>first</code>,<code>last</code>}</td>
<td>Open &#x2F; Close &#x2F; Navigate the quickfix window</td>
</tr>
</tbody></table>
<h3 id="Browsing-Files-With-Netrw"><a href="#Browsing-Files-With-Netrw" class="headerlink" title="Browsing Files With Netrw"></a>Browsing Files With Netrw</h3><table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td><code>:</code>[<code>S,V</code>]<code>Explore</code></td>
<td>Starts netrw on current file {with split top &#x2F; left half of the screen}</td>
</tr>
<tr>
<td><code>%</code> &#x2F; <code>d</code></td>
<td>Create a new file &#x2F; dir</td>
</tr>
<tr>
<td><code>R</code> &#x2F; <code>D</code></td>
<td>Rename &#x2F; Delete a file or directory</td>
</tr>
</tbody></table>
<h3 id="Fzf"><a href="#Fzf" class="headerlink" title="Fzf"></a>Fzf</h3><p>Fzf syntax:</p>
<ul>
<li><code>^</code> prefix exact match. e.g. <code>^welcome</code>.</li>
<li><code>$</code> suffix exact match. e.g. <code>friends$</code>.</li>
<li><code>&#39;</code> exact match. e.g. <code>&#39;welcome my friends</code>.</li>
<li><code>|</code> &quot;or&quot; match. e.g. <code>friends | foes</code>.</li>
<li><code>!</code> inverse match. e.g. <code>welcome !friends</code></li>
</ul>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td><code>:Files</code> or <code>&lt;C-f&gt;</code></td>
<td>Find files</td>
</tr>
<tr>
<td><code>:Buffers</code> or <code>&lt;\-b&gt;</code></td>
<td>Find files in buffers</td>
</tr>
<tr>
<td><code>:Rg</code> or <code>&lt;\-f&gt;</code></td>
<td>Find in files context</td>
</tr>
<tr>
<td><code>:BLines</code> or <code>&lt;\-/&gt;</code></td>
<td>Find lines in current buffer</td>
</tr>
<tr>
<td><code>:Marks</code> or <code>&lt;\-&#39;&gt;</code></td>
<td>Find marks</td>
</tr>
<tr>
<td><code>:Commits</code> or <code>&lt;\-g&gt;</code></td>
<td>Find git commits</td>
</tr>
<tr>
<td><code>:Helptags</code> or <code>&lt;\-H&gt;</code></td>
<td>Find help tags</td>
</tr>
<tr>
<td><code>:History</code> or <code>&lt;\-h&gt; h</code></td>
<td>Find in opened files&#39; history (list <code>:oldfiles</code>)</td>
</tr>
<tr>
<td><code>:History:</code> or <code>&lt;\-h&gt; :</code></td>
<td>Find in command history</td>
</tr>
<tr>
<td><code>:History/</code> or <code>&lt;\-h&gt; /</code></td>
<td>Find in search history</td>
</tr>
</tbody></table>
<h4 id="Search-and-Replace-in-Multiple-Files"><a href="#Search-and-Replace-in-Multiple-Files" class="headerlink" title="Search and Replace in Multiple Files"></a>Search and Replace in Multiple Files</h4><ul>
<li>First method<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">:<span class="keyword">grep</span> <span class="string">&quot;pizza&quot;</span></span><br><span class="line">:cfdo %s/pizza/donut/g | <span class="keyword">update</span></span><br></pre></td></tr></table></figure></li>
<li>Second method<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">:%<span class="keyword">bd</span> | e#    <span class="comment">&quot;Close all buffer except current file.</span></span><br><span class="line">:Files       <span class="comment">&quot;Select all files you want</span></span><br><span class="line">:<span class="keyword">bufdo</span> %s/pizza/donut/g | <span class="keyword">update</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="Ch04-Vim-Grammar"><a href="#Ch04-Vim-Grammar" class="headerlink" title="Ch04. Vim Grammar"></a>Ch04. Vim Grammar</h2><h3 id="Grammar-Rule"><a href="#Grammar-Rule" class="headerlink" title="Grammar Rule"></a>Grammar Rule</h3><p>There is only one grammar rule in Vim language: <code>Verb (Operator) + Noun (Motion)</code></p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td><code>y</code></td>
<td>Yank text (copy)</td>
</tr>
<tr>
<td><code>d</code></td>
<td>Delete text and save to register</td>
</tr>
<tr>
<td><code>c</code></td>
<td>Delete text, save to register, and start insert mode</td>
</tr>
<tr>
<td><code>~</code></td>
<td>Toggle the case of the character under the cursor</td>
</tr>
<tr>
<td><code>gU</code></td>
<td>Uppercase text</td>
</tr>
<tr>
<td><code>gu</code></td>
<td>Lowercase text</td>
</tr>
<tr>
<td><code>yy</code></td>
<td>yank entire line</td>
</tr>
<tr>
<td><code>dd</code></td>
<td>delete entire line</td>
</tr>
<tr>
<td><code>cc</code></td>
<td>change entire line</td>
</tr>
</tbody></table>
<p>Some examples:</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td><code>y$</code></td>
<td>Yank to the end of the line</td>
</tr>
<tr>
<td><code>dw</code></td>
<td>Delete to the beginning of the next word</td>
</tr>
<tr>
<td><code>c&#125;</code></td>
<td>Change to the end of paragraph</td>
</tr>
<tr>
<td><code>y2h</code></td>
<td>Yank two characters to the left</td>
</tr>
<tr>
<td><code>d2w</code></td>
<td>Delete the next two words</td>
</tr>
<tr>
<td><code>c2j</code></td>
<td>Change the next two lines</td>
</tr>
<tr>
<td><code>gUiw</code></td>
<td>Uppercase current word</td>
</tr>
</tbody></table>
<h3 id="More-Nouns-Text-Objects"><a href="#More-Nouns-Text-Objects" class="headerlink" title="More Nouns (Text Objects)"></a>More Nouns (Text Objects)</h3><p>Two types of text objects:</p>
<ul>
<li><code>i + object</code>    Inner text object, select without the white space or the surrounding objects</li>
<li><code>a + object</code>    Outer text object, select including the white space or the surrounding objects</li>
</ul>
<p>Common text objects:</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td><code>w</code></td>
<td>A word</td>
</tr>
<tr>
<td><code>p</code></td>
<td>A paragraph</td>
</tr>
<tr>
<td><code>s</code></td>
<td>A sentence</td>
</tr>
<tr>
<td><code>t</code></td>
<td>XML tags</td>
</tr>
<tr>
<td><code>(</code> &#x2F; <code>&#123;</code> &#x2F; <code>[</code> &#x2F; <code>&lt;</code> or <code>&gt;</code> &#x2F; <code>]</code> &#x2F; <code>&#125;</code> &#x2F; <code>)</code></td>
<td>A pair of <code>( )</code> &#x2F; <code>&#123; &#125;</code> &#x2F; <code>[ ]</code> &#x2F; <code>&lt; &gt;</code></td>
</tr>
<tr>
<td><code>&quot;</code> &#x2F; <code>&#39;</code> &#x2F; <code>`</code></td>
<td>A pair of <code>&quot; &quot;</code> &#x2F; <code>&#39; &#39;</code> &#x2F; <code>` `</code></td>
</tr>
<tr>
<td><code>%</code></td>
<td>Navigate to another match, usually works for <code>()</code>, <code>[]</code>, <code>&#123;&#125;</code></td>
</tr>
</tbody></table>
<h2 id="Ch05-Moving-in-a-File"><a href="#Ch05-Moving-in-a-File" class="headerlink" title="Ch05. Moving in a File"></a>Ch05. Moving in a File</h2><h3 id="Character-Navigation"><a href="#Character-Navigation" class="headerlink" title="Character Navigation"></a>Character Navigation</h3><p>A word is a sequence of characters containing <em>only</em> <code>a-zA-Z0-9_</code>. A WORD is a sequence of all characters except white space (a white space means either space, tab, and EOL).</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td><code>g</code>{<code>j</code>,<code>k</code>}</td>
<td>Down &#x2F; Up in a soft-wrapped line</td>
</tr>
<tr>
<td><code>w</code> &#x2F; <code>W</code></td>
<td>Move forward to the beginning of next word &#x2F; WORD</td>
</tr>
<tr>
<td><code>b</code> &#x2F; <code>B</code></td>
<td>Move backward to the beginning of previous word &#x2F; WORD</td>
</tr>
<tr>
<td><code>e</code> &#x2F; <code>E</code></td>
<td>Move forward to the end of next word &#x2F; WORD</td>
</tr>
<tr>
<td><code>g</code>{<code>e</code>,<code>E</code>}</td>
<td>Move backward to the end of previous word &#x2F; WORD</td>
</tr>
</tbody></table>
<h3 id="Current-Line-Navigation"><a href="#Current-Line-Navigation" class="headerlink" title="Current Line Navigation"></a>Current Line Navigation</h3><table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td><code>0</code> &#x2F; <code>^</code></td>
<td>Go to the first char &#x2F; non-blank char</td>
</tr>
<tr>
<td><code>$</code> &#x2F; <code>g_</code></td>
<td>Go to the last char &#x2F; non-blank char</td>
</tr>
<tr>
<td><code>n|</code></td>
<td>Go to column n</td>
</tr>
<tr>
<td><code>f</code> &#x2F; <code>F</code></td>
<td>Search forward &#x2F; backward for a char</td>
</tr>
<tr>
<td><code>t</code> &#x2F; <code>T</code></td>
<td>Search forward &#x2F; backward for a char, stopping before match</td>
</tr>
<tr>
<td><code>;</code> &#x2F; <code>,</code></td>
<td>Repeat the last char search on same &#x2F; opposite direction</td>
</tr>
</tbody></table>
<h3 id="Sentence-and-Paragraph-Navigation"><a href="#Sentence-and-Paragraph-Navigation" class="headerlink" title="Sentence and Paragraph Navigation"></a>Sentence and Paragraph Navigation</h3><p>A sentence ends with either <code>. ! ?</code> followed by an EOL, a space, or a tab.<br>A paragraph begins after each empty line and also at each set of a paragraph macro specified by the pairs of characters in paragraphs option.</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td><code>(</code> &#x2F; <code>)</code></td>
<td>Jump to the previous &#x2F; next sentence</td>
</tr>
<tr>
<td><code>&#123;</code> &#x2F; <code>&#125;</code></td>
<td>Jump to the previous &#x2F; next paragraph</td>
</tr>
<tr>
<td><code>[[</code> &#x2F; <code>]]</code></td>
<td>Jump to the previous &#x2F; next section</td>
</tr>
</tbody></table>
<h3 id="Line-Number-Navigation"><a href="#Line-Number-Navigation" class="headerlink" title="Line Number Navigation"></a>Line Number Navigation</h3><table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td><code>gg</code> &#x2F; <code>G</code></td>
<td>Go to first &#x2F; last line</td>
</tr>
<tr>
<td><code>nG</code></td>
<td>Go to line n</td>
</tr>
<tr>
<td><code>n%</code></td>
<td>Go to n% in file</td>
</tr>
<tr>
<td><code>&lt;C-g&gt;</code></td>
<td>See total lines in a file</td>
</tr>
</tbody></table>
<h3 id="Window-Navigation"><a href="#Window-Navigation" class="headerlink" title="Window Navigation"></a>Window Navigation</h3><table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td><code>H</code> &#x2F; <code>M</code> &#x2F; <code>L</code></td>
<td>Go to top &#x2F; medium &#x2F; bottom of screen</td>
</tr>
<tr>
<td><code>n</code>{<code>H</code>,<code>L</code>}</td>
<td>Go <code>n</code> line from top &#x2F; bottom</td>
</tr>
</tbody></table>
<h3 id="Scrolling"><a href="#Scrolling" class="headerlink" title="Scrolling"></a>Scrolling</h3><table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td><code>&lt;C-</code>{<code>e</code>,<code>d</code>,<code>f</code>}<code>&gt;</code></td>
<td>Scroll down a line &#x2F; half screen &#x2F; whole screen</td>
</tr>
<tr>
<td><code>&lt;C-</code>{<code>y</code>,<code>u</code>,<code>b</code>}<code>&gt;</code></td>
<td>Scroll up a line &#x2F; half screen &#x2F; whole screen</td>
</tr>
<tr>
<td><code>z</code>{<code>t</code>,<code>z</code>,<code>b</code>}</td>
<td>Bring the current line to top &#x2F; middle &#x2F; bottom of your screen</td>
</tr>
</tbody></table>
<h3 id="Search-Navigation"><a href="#Search-Navigation" class="headerlink" title="Search Navigation"></a>Search Navigation</h3><table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td><code>/</code> &#x2F; <code>?</code></td>
<td>Search forward &#x2F; backward for a match</td>
</tr>
<tr>
<td><code>n</code> &#x2F; <code>N</code></td>
<td>Repeat last search in same &#x2F; opposite direction of previous search</td>
</tr>
<tr>
<td><code>:noh</code> or <code>&lt;Esc&gt;&lt;Esc&gt;</code></td>
<td>Turn off match highlights</td>
</tr>
<tr>
<td><code>*</code> &#x2F; <code>#</code></td>
<td>Search for whole word under cursor forward &#x2F; backward, same as type <code>/\&lt;one\&gt;</code> &#x2F; <code>?\&lt;one\&gt;</code></td>
</tr>
<tr>
<td><code>g</code>{<code>*</code>,<code>#</code>}</td>
<td>Search for word under cursor forward &#x2F; backward</td>
</tr>
<tr>
<td><code>gn</code></td>
<td>Searches forward for the last search pattern and do a visual selection</td>
</tr>
</tbody></table>
<h3 id="Marking-Position"><a href="#Marking-Position" class="headerlink" title="Marking Position"></a>Marking Position</h3><p>There is a difference between marking with lowercase letters (a-z) and uppercase letters (A-Z). Lowercase alphabets are local marks and uppercase alphabets are global marks (a.k.a. file marks).</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td><code>ma</code></td>
<td>Mark position with mark <code>a</code></td>
</tr>
<tr>
<td>{<code>&#39;</code>,<code>`</code>}<code>a</code></td>
<td>Jump to line &#x2F; exact position of mark <code>a</code></td>
</tr>
<tr>
<td><code>:marks</code></td>
<td>View all marks</td>
</tr>
</tbody></table>
<h3 id="Jump"><a href="#Jump" class="headerlink" title="Jump"></a>Jump</h3><p>Any motion that moves farther than a word and current line navigation is probably a jump.</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td><code>&#39;&#39;</code> &#x2F; <code>``</code></td>
<td>Jump back to line &#x2F; exact position in current buffer before jump</td>
</tr>
<tr>
<td><code> `[</code> &#x2F; <code> `]</code></td>
<td>Jump to beginning &#x2F; ending of previously changed or yanked text</td>
</tr>
<tr>
<td><code> `&lt;</code> &#x2F; <code> `&gt;</code></td>
<td>Jump to the beginning &#x2F; ending of last visual selection</td>
</tr>
<tr>
<td><code> `0</code></td>
<td>Jump back to the last edited file when exiting vim</td>
</tr>
<tr>
<td><code>:jumps</code></td>
<td>See jump list</td>
</tr>
<tr>
<td><code>&lt;C-</code>{<code>o</code>,<code>i</code>}<code>&gt;</code></td>
<td>Move {up,down} the jump list</td>
</tr>
<tr>
<td><code>m&#39;5j</code></td>
<td>Add current location to jump list, follows a move</td>
</tr>
</tbody></table>
<h2 id="Ch06-Insert-Mode"><a href="#Ch06-Insert-Mode" class="headerlink" title="Ch06. Insert Mode"></a>Ch06. Insert Mode</h2><table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td><code>i</code> &#x2F; <code>I</code> &#x2F; <code>gI</code></td>
<td>Insert text before the {cursor,first non-blank character of the line,start of line}</td>
</tr>
<tr>
<td><code>a</code> &#x2F; <code>A</code></td>
<td>Append text after the {cursor,end of line}</td>
</tr>
<tr>
<td><code>o</code> &#x2F; <code>O</code></td>
<td>Starts a new line {below,above} the cursor and go insert mode</td>
</tr>
<tr>
<td><code>s</code> &#x2F; <code>S</code> (&#x3D;<code>cc</code>)</td>
<td>Delete the {character,line} under the cursor and go insert mode</td>
</tr>
<tr>
<td><code>gi</code></td>
<td>Insert text in same position where the last insert mode was stopped</td>
</tr>
<tr>
<td><code>&lt;Esc&gt;</code> or <code>&lt;C-[&gt;</code></td>
<td>Exit insert mode</td>
</tr>
<tr>
<td><code>&lt;C-c&gt;</code></td>
<td>Exit insert mode and do not check for abbreviation</td>
</tr>
<tr>
<td><code>&lt;C-</code>{<code>h</code>,<code>w</code>,<code>u</code>}<code>&gt;</code></td>
<td>Delete {char,word,line}</td>
</tr>
<tr>
<td><code>&lt;C-r&gt; a</code></td>
<td>Insert text from register <code>a</code></td>
</tr>
<tr>
<td><code>&lt;C-x&gt; &lt;C-</code>{<code>y</code>,<code>e</code>}<code>&gt;</code></td>
<td>Scroll {up,down}</td>
</tr>
<tr>
<td><code>&lt;C-x&gt; &lt;C-</code>{<code>l</code>,<code>n</code>,<code>i</code>,<code>f</code>,<code>]</code>}<code>&gt;</code></td>
<td>Auto completion {line,text from current file,text from included files,filename,tag}</td>
</tr>
<tr>
<td><code>&lt;C-</code>{<code>n</code>,<code>p</code>}<code>&gt;</code></td>
<td>Find the {next,previous} word match, or navigate {up,down} the auto completion pop-up menu</td>
</tr>
<tr>
<td><code>&lt;C-</code>{<code>t</code>,<code>d</code>}<code>&gt;</code></td>
<td>Indent current line {forward,backward}</td>
</tr>
<tr>
<td><code>&lt;C-o&gt; &lt;normal cmd&gt;</code></td>
<td>Excute a normal mode command</td>
</tr>
<tr>
<td><code>&lt;C-o&gt; 100ihello</code></td>
<td>Insert &quot;hello&quot; 100 times</td>
</tr>
<tr>
<td><code>&lt;C-o&gt; !! curl https://google.com</code></td>
<td>Run <code>curl</code> and insert stdout</td>
</tr>
<tr>
<td><code>&lt;C-o&gt; !! pwd</code></td>
<td>Run <code>pwd</code> and insert stdout</td>
</tr>
<tr>
<td><code>&lt;C-o&gt; dtz</code></td>
<td>Delete from current location till the letter <code>z</code></td>
</tr>
<tr>
<td><code>&lt;C-o&gt; D</code></td>
<td>Delete from current location to the end of the line</td>
</tr>
</tbody></table>
<h3 id="Repeating-Insert-Mode"><a href="#Repeating-Insert-Mode" class="headerlink" title="Repeating Insert Mode"></a>Repeating Insert Mode</h3><p><code>10i</code>: Vim will repeat the text 10 times.</p>
<h2 id="Ch07-the-Dot-Command"><a href="#Ch07-the-Dot-Command" class="headerlink" title="Ch07. the Dot Command"></a>Ch07. the Dot Command</h2><h3 id="What-Is-a-Change"><a href="#What-Is-a-Change" class="headerlink" title="What Is a Change?"></a>What Is a Change?</h3><p>Any time you update (add, modify, or delete) the content of the current buffer, you are making a change.<br>The exceptions are updates done by command-line commands (the commands starting with <code>:</code>) do not count as a change.</p>
<p>Every action from the moment you press the insert command operator until you exit the insert command is considered as a change.</p>
<h3 id="Multi-line-Repeat"><a href="#Multi-line-Repeat" class="headerlink" title="Multi-line Repeat"></a>Multi-line Repeat</h3><p>Let&#39;s look at another example:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">zlet zzone = &quot;1&quot;;</span><br><span class="line">zlet zztwo = &quot;2&quot;;</span><br><span class="line">zlet zzthree = &quot;3&quot;;</span><br><span class="line">let four = &quot;4&quot;;</span><br></pre></td></tr></table></figure>
<p>Let&#39;s remove all the z&#39;s. Input <code>&lt;c-v&gt;jjdw..</code>.</p>
<h3 id="Including-a-Motion-in-a-Change"><a href="#Including-a-Motion-in-a-Change" class="headerlink" title="Including a Motion in a Change"></a>Including a Motion in a Change</h3><p>Replace all &quot;let&quot; with &quot;const&quot; in the following expressions:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">let one = &quot;1&quot;;</span><br><span class="line">let two = &quot;2&quot;;</span><br><span class="line">let three = &quot;3&quot;;</span><br></pre></td></tr></table></figure>
<p>To accomplish this. After you searched <code>/let</code>, run <code>cgnconst&lt;esc&gt;..</code>.</p>
<h2 id="Ch08-Registers"><a href="#Ch08-Registers" class="headerlink" title="Ch08. Registers"></a>Ch08. Registers</h2><p>The Ten Register Types:</p>
<ol>
<li>Unnamed register (<code>&quot;</code>).</li>
<li>Numbered registers (<code>0-9</code>).</li>
<li>Small delete register (<code>-</code>).</li>
<li>Named registers (<code>a-z</code>).</li>
<li>Read-only registers (<code>:</code>, <code>.</code>, and <code>%</code>).</li>
<li>Alternate file register (<code>#</code>).</li>
<li>Expression register (<code>=</code>).</li>
<li>Selection registers (<code>*</code> and <code>+</code>).</li>
<li>Black hole register (<code>_</code>).</li>
<li>Last search pattern register (<code>/</code>).</li>
</ol>
<h3 id="Register-Operators"><a href="#Register-Operators" class="headerlink" title="Register Operators"></a>Register Operators</h3><table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td><code>&quot;a</code></td>
<td>Access &#x2F; Store text into register <code>a</code></td>
</tr>
<tr>
<td><code>p</code> &#x2F; <code>P</code></td>
<td>Paste the text after &#x2F; before the cursor</td>
</tr>
<tr>
<td><code>10&quot;ap</code></td>
<td>Paste text from register <code>a</code> ten times</td>
</tr>
<tr>
<td><code>&quot;ayiw</code></td>
<td>Yank a word into register <code>a</code></td>
</tr>
</tbody></table>
<h3 id="The-Unnamed-Register"><a href="#The-Unnamed-Register" class="headerlink" title="The Unnamed Register"></a>The Unnamed Register</h3><p>It stores the last text you yanked, changed, or deleted.</p>
<p>By default, <code>p</code> &#x2F; <code>P</code> is connected to the unnamed register.</p>
<h3 id="The-Numbered-Registers"><a href="#The-Numbered-Registers" class="headerlink" title="The Numbered Registers"></a>The Numbered Registers</h3><h4 id="The-Yanked-Register"><a href="#The-Yanked-Register" class="headerlink" title="The Yanked Register"></a>The Yanked Register</h4><p>If you yank an entire line of text (<code>yy</code>), Vim actually saves that text in two registers:</p>
<ol>
<li>The unnamed register (<code>&quot;</code>).</li>
<li>The yanked &#x2F; zero register (<code>0</code>).</li>
</ol>
<h4 id="The-Non-zero-Numbered-Registers"><a href="#The-Non-zero-Numbered-Registers" class="headerlink" title="The Non-zero Numbered Registers"></a>The Non-zero Numbered Registers</h4><p>When you change or delete a text that is at least <strong>one line long</strong>, that text will be stored in the numbered registers 1-9 sorted by the most recent.</p>
<p>As a side note, these numbered registers are automatically incremented when using the dot command <code>.</code>.</p>
<h3 id="The-Small-Delete-Register"><a href="#The-Small-Delete-Register" class="headerlink" title="The Small Delete Register"></a>The Small Delete Register</h3><p>Changes or deletions <strong>less than one line</strong> are not stored in the numbered registers 0-9, but in the small delete register (<code>-</code>).</p>
<h3 id="The-Named-Register"><a href="#The-Named-Register" class="headerlink" title="The Named Register"></a>The Named Register</h3><p>You can append your text to the register. Using the uppercase version of that register. For example, suppose you have the word &quot;Hello &quot; already stored in register <code>a</code>. If you want to add &quot;world&quot; into register <code>a</code>, you can find the text &quot;world&quot; and yank it using A register (<code>&quot;Ayiw</code>).</p>
<h3 id="The-Read-only-Registers"><a href="#The-Read-only-Registers" class="headerlink" title="The Read-only Registers"></a>The Read-only Registers</h3><ul>
<li><code>.</code> stores the last inserted text</li>
<li><code>:</code> stores the last executed command-line</li>
<li><code>%</code> stores the name of current file</li>
</ul>
<h3 id="The-Alternate-File-Register"><a href="#The-Alternate-File-Register" class="headerlink" title="The Alternate File Register"></a>The Alternate File Register</h3><p>In Vim, <code>#</code> usually represents the alternate file. An alternative file is the last file you opened. To insert the name of the alternate file, you can use <code>&quot;#p</code>.</p>
<h3 id="The-Expression-Register"><a href="#The-Expression-Register" class="headerlink" title="The Expression Register"></a>The Expression Register</h3><p><code>&quot;=1+1&lt;Enter&gt;p</code> &#x2F; <code>&lt;C-r&gt; =1+1</code>: Evaluate mathematical expression &quot;1+1&quot; and paste it &#x2F; from insert mode<br><code>&quot;=@a&lt;Enter&gt;p</code> &#x2F; <code>&lt;C-r&gt; =@a</code>: Get values from register <code>a</code> and paste it &#x2F; from insert mode</p>
<h3 id="The-Selection-Registers"><a href="#The-Selection-Registers" class="headerlink" title="The Selection Registers"></a>The Selection Registers</h3><p>Vim has two selection registers: star (<code>*</code>) and plus (<code>+</code>). You can use them to access copied text from external programs.</p>
<p>If you yank a word from Vim with <code>&quot;+yiw</code> or <code>&quot;*yiw</code>, you can paste that text in the external program with <code>&lt;c-v&gt;</code>. Note that this only works if your Vim program comes with the <code>+clipboard</code> option (to check it, run <code>:version</code>).</p>
<h3 id="The-Black-Hole-Register"><a href="#The-Black-Hole-Register" class="headerlink" title="The Black Hole Register"></a>The Black Hole Register</h3><p>You can use the black hole register (<code>_</code>). To delete a line and not have Vim store the deleted line into any register, use <code>&quot;_dd</code>.</p>
<h3 id="The-Last-Search-Pattern-Register"><a href="#The-Last-Search-Pattern-Register" class="headerlink" title="The Last Search Pattern Register"></a>The Last Search Pattern Register</h3><p><code>&quot;/p</code>: Paste your last search (<code>/</code> or <code>?</code>)</p>
<h3 id="Viewing-the-Registers"><a href="#Viewing-the-Registers" class="headerlink" title="Viewing the Registers"></a>Viewing the Registers</h3><p>To view all your registers, use the <code>:register</code> command. To view only registers <code>a</code>, <code>1</code>, and <code>-</code>, use <code>:register a 1 -</code>.</p>
<h3 id="Clearing-a-Register"><a href="#Clearing-a-Register" class="headerlink" title="Clearing a Register"></a>Clearing a Register</h3><ul>
<li><code>qaq</code> Using Macro recording</li>
<li><code>:call setreg(&#39;a&#39;, &#39;hello world&#39;)</code></li>
<li><code>:let @a = &#39;&#39;</code></li>
</ul>
<h3 id="Putting-the-Content-of-a-Register-Command-line"><a href="#Putting-the-Content-of-a-Register-Command-line" class="headerlink" title="Putting the Content of a Register (Command-line)"></a>Putting the Content of a Register (Command-line)</h3><p><code>:10put a</code>: Paste text from register <code>a</code> to below line 10.<br><code>:g/end/put _</code>: Insert blank lines below all lines contain the text &quot;end&quot;, by using black hole register</p>
<h2 id="Ch09-Macros"><a href="#Ch09-Macros" class="headerlink" title="Ch09. Macros"></a>Ch09. Macros</h2><h3 id="Basic-Macros"><a href="#Basic-Macros" class="headerlink" title="Basic Macros"></a>Basic Macros</h3><p>Suppose you have this text and you want to uppercase everything on each line:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">hello</span><br><span class="line">vim</span><br><span class="line">macros</span><br><span class="line">are</span><br><span class="line">awesome</span><br></pre></td></tr></table></figure>

<p>With your cursor at the start of the line &quot;hello&quot;, run:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">qa0gU$jq</span><br></pre></td></tr></table></figure>

<p>The breakdown:</p>
<ul>
<li><code>qa</code> starts recording a macro in the a register.</li>
<li><code>0</code> goes to beginning of the line.</li>
<li><code>gU$</code> uppercases the text from your current location to the end of the line.</li>
<li><code>j</code> goes down one line.</li>
<li><code>q</code> stops recording.</li>
</ul>
<p>To replay it, run <code>@a</code>. Just like many other Vim commands, you can pass a count argument to macros. For example, running <code>3@a</code> executes the macro three times.</p>
<h3 id="Command-Line-Macro"><a href="#Command-Line-Macro" class="headerlink" title="Command-Line Macro"></a>Command-Line Macro</h3><p><code>:2,3 normal @a</code>: execute macro between lines 2 and 3, <code>:normal</code> allows the user to execute any normal mode command passed as argument.</p>
<h3 id="Recursive-Macro"><a href="#Recursive-Macro" class="headerlink" title="Recursive Macro"></a>Recursive Macro</h3><p>Suppose you have this list again and you need to toggle the case of the first word:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a. chocolate donut</span><br><span class="line">b. mochi donut</span><br><span class="line">c. powdered sugar donut</span><br><span class="line">d. plain donut</span><br></pre></td></tr></table></figure>

<p>This time, let&#39;s do it recursively:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">qaqqa0W~j@aq</span><br></pre></td></tr></table></figure>

<p>Now you can just run <code>@a</code> and watch Vim execute the macro recursively.</p>
<p>How did the macro know when to stop? When the macro was on the last line, it tried to run <code>j</code>, since there was no more line to go to, it stopped the macro execution.</p>
<h3 id="Executing-a-Macro-Across-Multiple-Files"><a href="#Executing-a-Macro-Across-Multiple-Files" class="headerlink" title="Executing a Macro Across Multiple Files"></a>Executing a Macro Across Multiple Files</h3><p>Suppose you have three txt files. Your task is to uppercase the first word only on lines containing the word &quot;donut&quot;. Assume you have <code>0W~j</code> in register <code>a</code>. How can you quickly accomplish this?</p>
<p>First file:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">## savory.txt</span><br><span class="line">a. cheddar jalapeno donut</span><br><span class="line">b. mac n cheese donut</span><br><span class="line">c. fried dumpling</span><br></pre></td></tr></table></figure>

<p>Second file:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">## sweet.txt</span><br><span class="line">a. chocolate donut</span><br><span class="line">b. chocolate pancake</span><br><span class="line">c. powdered sugar donut</span><br></pre></td></tr></table></figure>

<p>Third file:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">## plain.txt</span><br><span class="line">a. wheat bread</span><br><span class="line">b. plain donut</span><br></pre></td></tr></table></figure>

<p>Here is how you can do it:</p>
<ol>
<li><code>:args *.txt</code> to find all <code>.txt</code> files in your current directory and store in list <code>:args</code>.</li>
<li><code>:argdo g/donut/normal @a</code> executes the global command <code>g/donut/normal @a</code> on each file inside <code>:args</code>.</li>
<li><code>:argdo update</code> executes <code>update</code> command to save each file inside<code>:args</code> when the buffer has been modified.</li>
</ol>
<h3 id="Appending-a-Macro"><a href="#Appending-a-Macro" class="headerlink" title="Appending a Macro"></a>Appending a Macro</h3><p>Use the uppercase of registers to append a macro.</p>
<p>e.g. <code>qAiHello&lt;esc&gt;q</code></p>
<h3 id="Amending-a-Macro"><a href="#Amending-a-Macro" class="headerlink" title="Amending a Macro"></a>Amending a Macro</h3><p>For example:</p>
<ol>
<li>First <code>:put a</code> to put macro&#39;s contexts in register <code>a</code>.</li>
<li>Change the macro&#39;s context as usual text. Be aware that some operations like <code>&lt;Esc&gt;</code>, you can&#39;t literally type <code>&lt;Esc&gt;</code>. To achieve that, (in insert mode) press {c,i,s}_<code>&lt;C-v&gt;</code> followed by <code>&lt;Esc&gt;</code>. Vim will print <code>^[</code>, this is the internal code representation for the <code>&lt;Esc&gt;</code> key.</li>
<li>Yank the text into register <code>a</code>, such as <code>0&quot;ay$</code>.</li>
</ol>
<h3 id="Macro-Redundancy"><a href="#Macro-Redundancy" class="headerlink" title="Macro Redundancy"></a>Macro Redundancy</h3><p><code>:let @z = @a</code>. Duplicate a macro in register <code>a</code> to register <code>z</code>.</p>
<h3 id="Series-vs-Parallel-Macro"><a href="#Series-vs-Parallel-Macro" class="headerlink" title="Series vs Parallel Macro"></a>Series vs Parallel Macro</h3><p>TL; DR: Using command-line <code>:normal</code> and specify a range, e.g. <code>:1,$ normal @a</code>.</p>
<p>You want lowercase all the uppercased &quot;FUNC&quot;, then you record this macro <code>qa0f&#123;gui&#123;jq</code>:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">import &#123; FUNC1 &#125; from &quot;library1&quot;;</span><br><span class="line">import &#123; FUNC2 &#125; from &quot;library2&quot;;</span><br><span class="line">import &#123; FUNC3 &#125; from &quot;library3&quot;;</span><br><span class="line">import foo from &quot;bar&quot;;</span><br><span class="line">import &#123; FUNC4 &#125; from &quot;library4&quot;;</span><br><span class="line">import &#123; FUNC5 &#125; from &quot;library5&quot;;</span><br></pre></td></tr></table></figure>
<p>Running <code>99@a</code>, only executes the macro three times. It does not execute the macro on last two lines because the execution fails to run <code>f&#123;</code> on the &quot;foo&quot; line. You can always go to the next line where &quot;FUNC4&quot; is and replay that macro again. But what if you want to get everything done in one go?</p>
<p>Run the macro in parallel.</p>
<p>Recall from earlier section that macros can be executed using the command-line command <code>:normal</code>. If you run <code>:1,$ normal @a</code>, you will see that the macro is being executed on all lines except the &quot;foo&quot; line. It works!</p>
<h2 id="Ch10-Undo"><a href="#Ch10-Undo" class="headerlink" title="Ch10. Undo"></a>Ch10. Undo</h2><h3 id="Undo-Tree"><a href="#Undo-Tree" class="headerlink" title="Undo Tree"></a>Undo Tree</h3><p>In Vim, every time you press <code>u</code> and then make a different change, Vim stores the previous state&#39;s text by creating an &quot;undo branch&quot;.<br><a target="_blank" rel="noopener" href="https://github.com/simnalamburt/vim-mundo">vim-mundo</a> plugin is very useful to help visualize Vim&#39;s undo tree.</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td><code>&lt;C-g&gt; u</code></td>
<td>creates undo break in insert mode.</td>
</tr>
<tr>
<td><code>g</code>{<code>+</code>,<code>-</code>}</td>
<td>Both <code>u</code> and <code>&lt;C-r&gt;</code> traverse only the <em>main</em> nodes in undo tree while <code>g+</code> and <code>g-</code> traverse <em>all</em> nodes in the undo tree.</td>
</tr>
<tr>
<td><code>:</code>{<code>w</code>,<code>r</code>}<code>undo file.undo</code></td>
<td>Save &#x2F; Load undo file</td>
</tr>
<tr>
<td><code>:undolist</code></td>
<td>See undo list.</td>
</tr>
<tr>
<td><code>:earlier 10</code>[<code>f</code>,<code>s</code>,<code>m</code>,<code>d</code>]</td>
<td>Go to the state 10 times &#x2F; saves &#x2F; seconds &#x2F; minutes &#x2F; hours &#x2F; days older</td>
</tr>
<tr>
<td><code>:later 10</code></td>
<td>Go to the state 10 times newer</td>
</tr>
</tbody></table>
<h2 id="Ch11-Visual-Mode"><a href="#Ch11-Visual-Mode" class="headerlink" title="Ch11. Visual Mode"></a>Ch11. Visual Mode</h2><table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td><code>v</code> &#x2F; <code>V</code> &#x2F; <code>&lt;C-v&gt;</code></td>
<td>Character-wise &#x2F; Line-wise &#x2F; Block-wise visual mode</td>
</tr>
<tr>
<td><code>gv</code></td>
<td>Go to the previous visual mode</td>
</tr>
<tr>
<td><code>&lt;C-</code>{<code>x</code>,<code>a</code>}<code>&gt;</code></td>
<td>{Decrement,Increment} numbers, alphabetical characters</td>
</tr>
<tr>
<td>v_b_<code>g &lt;C-</code>{<code>x</code>,<code>a</code>}</td>
<td>{Decrement,Increment} across multiple lines</td>
</tr>
<tr>
<td><code>&gt;</code> &#x2F; <code>&lt;</code></td>
<td>Indent visual block forward &#x2F; backward</td>
</tr>
</tbody></table>
<h3 id="Visual-Mode-Navigation"><a href="#Visual-Mode-Navigation" class="headerlink" title="Visual Mode Navigation"></a>Visual Mode Navigation</h3><p>Press <code>o</code> or <code>O</code> in visual mode, the cursor jumps from the beginning to the end of the highlighted block, allowing you to expand the highlight area.</p>
<h3 id="Adding-Text-on-Multiple-Lines"><a href="#Adding-Text-on-Multiple-Lines" class="headerlink" title="Adding Text on Multiple Lines"></a>Adding Text on Multiple Lines</h3><p>With your cursor on the first line:</p>
<ol>
<li>Run block-wise visual mode and go down two lines (<code>&lt;c-v&gt; jj</code>).</li>
<li>Highlight to the end of the line (<code>$</code>).</li>
<li>Append (<code>A</code>) then type text you want.</li>
<li>Exit visual mode.</li>
</ol>
<p>Alternatively, you can also use the <code>:normal</code> command to add text on multiple lines:</p>
<ol>
<li>Highlight all 3 lines (<code>vjj</code>).</li>
<li>Type <code>:normal! A;</code>.</li>
</ol>
<h2 id="Ch12-Search-and-Substitute"><a href="#Ch12-Search-and-Substitute" class="headerlink" title="Ch12. Search and Substitute"></a>Ch12. Search and Substitute</h2><p>You can use <code>\C</code> pattern anywhere in your search term to tell Vim that the subsequent search term will be case sensitive. If you do <code>/\Chello</code>, it will strictly match &quot;hello&quot;, not &quot;HELLO&quot; or &quot;Hello&quot;.</p>
<h3 id="Search-Visual-Selected-Text"><a href="#Search-Visual-Selected-Text" class="headerlink" title="Search Visual Selected Text"></a>Search Visual Selected Text</h3><ol>
<li>Yank the text you want.</li>
<li>In search mode, type <code>&lt;C-r&gt;&quot;</code> (Paste text in unamed register)</li>
</ol>
<h3 id="Repeating-Search"><a href="#Repeating-Search" class="headerlink" title="Repeating Search"></a>Repeating Search</h3><p><code>//</code> Repeat the previous search<br>s_<code>&lt;</code>{<code>up</code>,<code>down</code>,<code>c-</code>{<code>n</code>,<code>p</code>}}<code>&gt;</code> to traverse search history</p>
<h3 id="Repeating-the-Last-Substitution"><a href="#Repeating-the-Last-Substitution" class="headerlink" title="Repeating the Last Substitution"></a>Repeating the Last Substitution</h3><p><code>&amp;</code> or <code>:s</code> or leave the first substitute pattern argument black <code>:s//awesome/</code></p>
<p>By the way, the repeat-substitution commands (<code>&amp;</code> and <code>:s</code>) do not retain the flags. To quickly repeat the last substitute command with all the flags, run <code>:&amp;&amp;</code>.</p>
<h3 id="Substitution-Range"><a href="#Substitution-Range" class="headerlink" title="Substitution Range"></a>Substitution Range</h3><p>Here are some range variations you can pass:</p>
<ul>
<li><code>:,3s/let/const/</code> Substitute from current line to line 3.</li>
<li><code>:1,s/let/const/</code> Substitute from line 1 to current line.</li>
<li><code>:3s/let/const/</code>  Substitute on line 3 only.</li>
<li><code>:%s/let/const/</code>  Sbstitution on all lines.</li>
</ul>
<p>In addition to numbers, you can also use these symbols as range:</p>
<ul>
<li><code>.</code> means the current line. A range of <code>.,3</code> means between the current line and line 3.</li>
<li><code>$</code> means the last line in the file. <code>3,$</code> range means between line 3 and the last line.</li>
<li><code>+n</code> means n lines after the current line. You can use it with <code>.</code> or without. <code>3,+1</code> or <code>3,.+1</code> means between line 3 and the line after the current line.</li>
</ul>
<h3 id="Substitution-Flags"><a href="#Substitution-Flags" class="headerlink" title="Substitution Flags"></a>Substitution Flags</h3><ul>
<li><code>&amp;</code> Reuse the flags from the previous substitute command.</li>
<li><code>g</code> Replace all matches in the line.</li>
<li><code>c</code> Ask for substitution confirmation.</li>
<li><code>e</code> Prevent error message from displaying when substitution fails.</li>
<li><code>i</code> &#x2F; <code>I</code> Perform case insensitive &#x2F; sensitive substitution.</li>
</ul>
<h3 id="Changing-the-Delimiter"><a href="#Changing-the-Delimiter" class="headerlink" title="Changing the Delimiter"></a>Changing the Delimiter</h3><p> You can change the delimiter with any single-byte characters (except for alphabets, numbers, or <code>&quot;</code>, <code>|</code>, and <code>\</code>) when it is hard to tell which forward slashes (<code>/</code>) are part of the substitution pattern and which ones are the delimiters.</p>
<h2 id="Ch13-the-Global-Command"><a href="#Ch13-the-Global-Command" class="headerlink" title="Ch13. the Global Command"></a>Ch13. the Global Command</h2><h3 id="Global-Command-Overview"><a href="#Global-Command-Overview" class="headerlink" title="Global Command Overview"></a>Global Command Overview</h3><table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td><code>:g/pattern/cmd</code></td>
<td>Executes <code>cmd</code> against each line that matches the <code>pattern</code>.</td>
</tr>
<tr>
<td><code>:</code>{<code>g!</code>,<code>v</code>}<code>/pattern/command</code></td>
<td>Run the global command on non-matching lines</td>
</tr>
<tr>
<td><code>:g/console/d</code></td>
<td>Remove all lines containing &quot;console&quot;</td>
</tr>
<tr>
<td><code>:g/^/m 0</code></td>
<td>Reverse the entire file &#x2F; buffer</td>
</tr>
<tr>
<td><code>:g/TODO/t $</code></td>
<td>Aggregate all todos to the end of file</td>
</tr>
<tr>
<td><code>:g/console/d_</code></td>
<td>Black hole delete that matches the <code>pattern</code></td>
</tr>
<tr>
<td><code>:g/pattern1/,/pattern2/cmd</code></td>
<td>Apply the <code>cmd</code> within <code>pattern1</code> and <code>pattern2</code></td>
</tr>
<tr>
<td><code>:g/^$/,/./-1j</code></td>
<td>Reduce multiple empty lines to one empty line, <code>/^$/</code> represents an empty line. <code>/./</code> represents a non-empty line (a line with at least one character), <code>-1</code> means the line above that</td>
</tr>
</tbody></table>
<h3 id="Advanced-Sort"><a href="#Advanced-Sort" class="headerlink" title="Advanced Sort"></a>Advanced Sort</h3><p>If you have the following expressions:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">const arrayB = [</span><br><span class="line">  &quot;i&quot;,</span><br><span class="line">  &quot;g&quot;,</span><br><span class="line">  &quot;h&quot;,</span><br><span class="line">  &quot;b&quot;,</span><br><span class="line">  &quot;f&quot;,</span><br><span class="line">  &quot;d&quot;,</span><br><span class="line">  &quot;e&quot;,</span><br><span class="line">  &quot;c&quot;,</span><br><span class="line">  &quot;a&quot;,</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line">const arrayA = [</span><br><span class="line">  &quot;h&quot;,</span><br><span class="line">  &quot;b&quot;,</span><br><span class="line">  &quot;f&quot;,</span><br><span class="line">  &quot;d&quot;,</span><br><span class="line">  &quot;e&quot;,</span><br><span class="line">  &quot;a&quot;,</span><br><span class="line">  &quot;c&quot;,</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<p>If you need to sort the elements inside the arrays, but not the arrays themselves, you can run this:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:g/\[/+1,/\]/-1sort</span><br></pre></td></tr></table></figure>

<h2 id="Ch14-External-Commands"><a href="#Ch14-External-Commands" class="headerlink" title="Ch14. External Commands"></a>Ch14. External Commands</h2><table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td><code>:</code>{<code>r</code>,<code>w</code>}<code> &lt;filename&gt;</code> &#x2F; <code>:</code>{<code>r</code>,<code>w</code>}<code> !cmd</code></td>
<td>{Read,Write} a file &#x2F; the {STDOUT,STDIN} of an external command to {current buffer,external command}</td>
</tr>
<tr>
<td><code>:.!tr &#39;[:lower:]&#39; &#39;[:upper:]&#39;</code></td>
<td>Uppercase current line</td>
</tr>
<tr>
<td><code>!jtr &#39;[a-z]&#39; &#39;[A-Z]&#39;</code></td>
<td>Uppercase the current line and the line below, the difference is this is a normal mode operator</td>
</tr>
</tbody></table>
<h2 id="Ch15-Command-line-Mode"><a href="#Ch15-Command-line-Mode" class="headerlink" title="Ch15. Command-line Mode"></a>Ch15. Command-line Mode</h2><table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td><code>&lt;C-</code>{<code>b</code>,<code>e</code>}<code>&gt;</code></td>
<td>Go to the start &#x2F; end of the line</td>
</tr>
<tr>
<td><code>&lt;C-</code>{<code>h</code>,<code>w</code>,<code>u</code>}<code>&gt;</code></td>
<td>Delete one character &#x2F; one word &#x2F; entire line</td>
</tr>
<tr>
<td><code>&lt;C-r&gt; &lt;C-</code>{<code>w</code>,<code>a</code>,<code>l</code>,<code>f</code>}<code>&gt;</code></td>
<td>Get the word &#x2F; WORD &#x2F; line &#x2F; filename under the cursor</td>
</tr>
<tr>
<td><code>:his </code>{<code>:</code>,<code>/</code>,<code>?</code>}</td>
<td>View command &#x2F; search history</td>
</tr>
<tr>
<td><code>q</code>{<code>:</code>,<code>/</code>,<code>?</code>} or  {c,s}_<code>&lt;C-f&gt;</code></td>
<td>Open editable command &#x2F; search history</td>
</tr>
</tbody></table>
<h2 id="Ch16-Tags"><a href="#Ch16-Tags" class="headerlink" title="Ch16. Tags"></a>Ch16. Tags</h2><p>Here I recommand universal ctags, install it by <code>pacman -S ctags</code><br><code>$ ctags -R .</code> manual generate tag files under cuurent directory<br><code>$ ctags -R --exclude=.git --exclude=vendor --exclude=node_modules --exclude=db --exclude=log .</code></p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td><code>:set tags?</code></td>
<td>See tag files path</td>
</tr>
<tr>
<td><code>set tags+=path/to/tags/file</code></td>
<td>Add a new tag files location</td>
</tr>
<tr>
<td><code>&lt;C-]&gt;</code> or <code>:tag</code></td>
<td>Jump to <strong>a</strong> definition</td>
</tr>
<tr>
<td><code>:tselect &lt;pattern&gt;</code></td>
<td>Selective tag jumps, type numerical key to jump.</td>
</tr>
<tr>
<td><code>g &lt;C-]&gt;</code> or <code>:tjump &lt;pattern&gt;</code></td>
<td>Selective tag jumps, prompt only when &gt; 2 options.</td>
</tr>
<tr>
<td><code>:tags</code></td>
<td>List of the tags you have jumped to. Called tag stack.</td>
</tr>
<tr>
<td><code>:pop</code></td>
<td>&quot;pop&quot; the tag stack.</td>
</tr>
</tbody></table>
<h2 id="Ch17-Fold"><a href="#Ch17-Fold" class="headerlink" title="Ch17. Fold"></a>Ch17. Fold</h2><p>There are six different fold methods: <code>manual</code>, <code>indent</code>, <code>expression</code>, <code>syntax</code>, <code>diff</code>, <code>marker</code>. <code>manual</code> is the default.<br>You can persisting fold by save the View. Goto see Chaper Views, Sessions, and Viminfo</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td><code>zf</code>&lt;<code>any motion</code>&gt;</td>
<td>Fold operator, follows a motion, or use it in visual mode</td>
</tr>
<tr>
<td><code>z</code>{<code>o</code>,<code>c</code>,<code>a</code>}</td>
<td>Open &#x2F; Close &#x2F; Toggle a foleded text.</td>
</tr>
<tr>
<td><code>z</code>{<code>d</code>,<code>D</code>}</td>
<td>Delete a fold [Recursively] under cursor</td>
</tr>
<tr>
<td><code>:,+1fold</code></td>
<td>Fold in command-line mode</td>
</tr>
<tr>
<td><code>z</code>{<code>R</code>,<code>M</code>}</td>
<td>Open &#x2F; close all folds.</td>
</tr>
<tr>
<td><code>:set foldmethod?</code></td>
<td>See which folding method you are currently using.</td>
</tr>
<tr>
<td><code>:set foldmethod=</code>{<code>indent</code>,<code>syntax</code>,<code>marker</code>}</td>
<td>Set Indent &#x2F; Syntax &#x2F; Marker Fold mode</td>
</tr>
<tr>
<td><code>:set shiftwidth=1</code></td>
<td>Set the how much spaces the Vim consider as an indent fold.</td>
</tr>
<tr>
<td><code>:set foldmarker=coffee1,coffee2</code></td>
<td>Will fold texts between <code>coffee1</code> and <code>coffee2</code></td>
</tr>
</tbody></table>
<ul>
<li>Syntax Fold determined by syntax language highlighting. Using syntax plugin like <code>vim-polyglot</code> will work out of box</li>
<li>Maker Fold determined by special markers defined in &#39;foldmarker&#39; option.</li>
</ul>
<h3 id="Diff-Fold"><a href="#Diff-Fold" class="headerlink" title="Diff Fold"></a>Diff Fold</h3><p><code>$ vimdiff &lt;file1&gt; &lt;file2&gt;</code> or <code>$ vim -d &lt;file1&gt; &lt;file2&gt;</code></p>
<h3 id="Expression-Fold"><a href="#Expression-Fold" class="headerlink" title="Expression Fold"></a>Expression Fold</h3><p>Expression fold allows you to define an expression to match for a fold. if the <code>foldexpr</code> return <code>0</code>, then the line is not folded.</p>
<p><code>:set foldmethod=foldexpr</code></p>
<p>Suppose you want to fold all breakfast items starting with &quot;p&quot;:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">donut</span><br><span class="line">pancake</span><br><span class="line">pop-tarts</span><br><span class="line">protein bar</span><br><span class="line">salmon</span><br><span class="line">scrambled eggs</span><br></pre></td></tr></table></figure>

<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:<span class="keyword">set</span> foldexpr=<span class="built_in">getline</span>(<span class="variable">v:lnum</span>)[<span class="number">0</span>]==\\<span class="string">&quot;p\\&quot;</span></span><br></pre></td></tr></table></figure>

<p>Let&#39;s break it down:</p>
<ul>
<li><code>getline()</code> is a Vimscript function that returns the content of any given line. If you run <code>:echo getline(5)</code>, it will return the content of line 5.</li>
<li><code>v:lnum</code> is Vim&#39;s special variable for the <code>&#39;foldexpr&#39;</code> expression. Vim scans each line and at that moment stores each line&#39;s number in <code>v:lnum</code> variable. On line 5, <code>v:lnum</code> has value of 5. On line 10, <code>v:lnum</code> has value of 10.</li>
<li><code>[0]</code> in the context of <code>getline(v:lnum)[0]</code> is the first character of each line. When Vim scans a line, <code>getline(v:lnum)</code> returns the content of each line. <code>getline(v:lnum)[0]</code> returns the first character of each line. On the first line of our list, &quot;donut&quot;, <code>getline(v:lnum)[0]</code> returns &quot;d&quot;. On the second line of our list, &quot;pancake&quot;, <code>getline(v:lnum)[0]</code> returns &quot;p&quot;.</li>
<li><code>==\\&quot;p\\&quot;</code> is the second half of the equality expression. It checks if the expression you just evaluated is equal to &quot;p&quot;. If it is true, it returns 1. If it is false, it returns 0. In Vim, 1 is truthy and 0 is falsy. So on the lines that start with an &quot;p&quot;, it returns 1. Recall if a <code>&#39;foldexpr&#39;</code> has a value of 1, then it has a fold level of 1.</li>
</ul>
<h2 id="Ch18-Git"><a href="#Ch18-Git" class="headerlink" title="Ch18. Git"></a>Ch18. Git</h2><h3 id="Diffing"><a href="#Diffing" class="headerlink" title="Diffing"></a>Diffing</h3><table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td><code>vimdiff</code> or <code>vim -d</code></td>
<td></td>
</tr>
<tr>
<td>{<code>]</code>,<code>[</code>}<code>c</code></td>
<td>jump to next &#x2F; previous diff</td>
</tr>
<tr>
<td><code>d</code>{<code>p</code>,<code>o</code>} or <code>:diff</code>{<code>put</code>,<code>get</code>}<code> </code>[<code>filename</code>]</td>
<td>{put,obtain(get)} text from {current,another} buffer to {another,current} buffer &#x2F; file.</td>
</tr>
</tbody></table>
<h3 id="Vim-As-a-Merge-Tool"><a href="#Vim-As-a-Merge-Tool" class="headerlink" title="Vim As a Merge Tool"></a>Vim As a Merge Tool</h3><p>Change the default merge tool to use <code>vimdiff</code>:</p>
<figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git config merge.tool vimdiff</span><br><span class="line">git config merge.conflictstyle diff3</span><br><span class="line">git config mergetool.prompt false</span><br><span class="line">git config mergetool.keepBackup false    # Git create a backup file in case things don&#x27;t go well, so disable it.</span><br></pre></td></tr></table></figure>

<p>When there comes a conflict, run:</p>
<figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git mergetool</span><br></pre></td></tr></table></figure>

<p>Vim displays four windows.</p>
<ul>
<li><code>LOCAL</code>  is the change in &quot;local&quot;, what you are merging into.</li>
<li><code>BASE</code> is the common ancestor between <code>LOCAL</code> and <code>REMOTE</code> to compare how they diverge.</li>
<li><code>REMOTE</code> is what is being merged into.</li>
<li>The fourth window contains the git&#39;s merge conflict texts. You cursor should be on this window. Your can run <code>:diffget BASE</code> or <code>:diffget REMOTE</code> to get the change from that.</li>
</ul>
<h3 id="Git-Inside-Vim"><a href="#Git-Inside-Vim" class="headerlink" title="Git Inside Vim"></a>Git Inside Vim</h3><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">:!git <span class="built_in">add</span> %         <span class="comment">&quot;Git add current file</span></span><br><span class="line">:!git checkout #    <span class="comment">&quot;Git checkout the other file</span></span><br><span class="line">:<span class="keyword">windo</span> !git <span class="built_in">add</span> %   <span class="comment">&quot;Add multiple files in different window</span></span><br></pre></td></tr></table></figure>

<h3 id="Vim-fugitive"><a href="#Vim-fugitive" class="headerlink" title="Vim-fugitive"></a>Vim-fugitive</h3><p><a target="_blank" rel="noopener" href="https://github.com/tpope/vim-fugitive">vim-fugitive</a></p>
<ul>
<li><code>:Git</code> Display a git summary window, here you can do:<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td><code>&lt;C-</code>{<code>n</code>,<code>p</code>}</td>
<td>Go up or down the file list.</td>
</tr>
<tr>
<td><code>-</code></td>
<td>Stage or unstage the file under the cursor.</td>
</tr>
<tr>
<td><code>s</code></td>
<td>Stage the file under the cursor.</td>
</tr>
<tr>
<td><code>u</code></td>
<td>Unstage the file under the cursor.</td>
</tr>
<tr>
<td><code>&gt;</code> &#x2F; <code>&lt;</code></td>
<td>Display &#x2F; Hide an inline diff of the file under the cursor.</td>
</tr>
</tbody></table>
</li>
<li><code>:Git blame</code>   Display a split blame window, here you can do:<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td><code>q</code></td>
<td>Close the the blame window.</td>
</tr>
<tr>
<td><code>A</code>&#x2F; <code>C</code> &#x2F; <code>D</code></td>
<td>Resize the author &#x2F; commit &#x2F; {date,time} column.</td>
</tr>
</tbody></table>
</li>
<li><code>:Gdiffsplit</code>: Runs a &#39;vimdiff&#39; of the current file against the index or work tree. Or run :Gdiffsplit <commit> to specify a commit.</li>
<li><code>:Gwrite</code>: Stage the changes of current file. Like <code>git add &lt;current=file&gt;</code></li>
<li><code>:Gread</code>: Restore the file. Like <code>git checkout &lt;current-file&gt;</code>. You can undo this action.</li>
<li><code>:Gclog</code>:  Display the commit history. Like <code>git log</code>, but this one using quickfix, so you can use <code>:cnext</code> and <code>:cprevious</code> to traverse the log information. Furthmore, you can run <code>:Gclog</code> arguments just like before, such as <code>:Gclog --after=&quot;January 1&quot; --before=&quot;March 14&quot;</code></li>
</ul>
<h2 id="Ch19-Compile"><a href="#Ch19-Compile" class="headerlink" title="Ch19. Compile"></a>Ch19. Compile</h2><p><code>:make</code> Vim looks for a makefile in the current directory and execute it. It uses quickfix to store any error.<br><code>:set makeprg=g++\ %\ -o\ %&lt;</code> Change the <code>:make</code> command. <code>\ </code> is to escape the space after <code>g++</code>. <code>%&lt;</code> Represents the current file name without an extension (<code>hello.cpp</code> becomes <code>hello</code>)</p>
<p>Add <code>autocmd BufWritePost *.cpp make</code> in <code>.vimrc</code> to auto compile cpp files on save.</p>
<p><code>:compiler ruby</code> Vim runs the <code>$VIMRUNTIME/compiler/ruby.vim</code> script and changes the <code>makeprg</code> to use the ruby.</p>
<p>To create a simple Typescript compiler:</p>
<figure class="highlight vim"><figcaption><span>~/.vim/compiler/Typescript.vim</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">CompilerSet makeprg=tsc</span><br><span class="line">CompilerSet errorformat=%<span class="keyword">f</span>:\ %<span class="keyword">m</span> <span class="comment">&quot;&#x27;%f&#x27; represents the error file, whereas &#x27;%m&#x27; represents the error message.</span></span><br></pre></td></tr></table></figure>

<h3 id="Plugin-Vim-dispatch"><a href="#Plugin-Vim-dispatch" class="headerlink" title="Plugin: Vim-dispatch"></a>Plugin: Vim-dispatch</h3><p><a target="_blank" rel="noopener" href="https://github.com/tpope/vim-dispatch">vim-dispatch</a></p>
<ul>
<li>Async Make<br><code>:Make</code> Vim will run make asynchronously. You can continue doing whatever your were doing.</li>
<li>Async Dispatch<br><code>:Dispatch</code> Like the &#39;:compiler&#39; and the &#39;:!&#39; command. It can run any external command asynchronously. e.g. &#39;:Dispatch bundle exec rspec %&#39;</li>
<li>Automating Dispatch<br>Vim-dispatch has <code>b:dispatch</code> buffer variable that you can configure to evaluate specific command automatically.<br>add this in your <code>.vimrc</code>, each time you enter a file that ends with <code>_spec.rb</code>, running <code>:Dispatch</code> automatically executes <code>bundle exec rspec %</code>:<figure class="highlight vim"><figcaption><span>~/.vimrc</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">autocmd</span> BufEnter *_spec.rb <span class="keyword">let</span> <span class="variable">b:dispatch</span> = <span class="string">&#x27;bundle exec rspec %&#x27;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="Ch20-Views-Sessions-and-Viminfo"><a href="#Ch20-Views-Sessions-and-Viminfo" class="headerlink" title="Ch20. Views, Sessions, and Viminfo"></a>Ch20. Views, Sessions, and Viminfo</h2><h3 id="View"><a href="#View" class="headerlink" title="View"></a>View</h3><p>View is the smallest subset of the three (View, Session, Viminfo). It is a collection of settings for one window</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td><code>:set viewoptions?</code></td>
<td></td>
</tr>
<tr>
<td><code>:set viewoptions+=localoptions</code></td>
<td>Remember the <code>localoptions</code></td>
</tr>
<tr>
<td><code>:set viewdir?</code></td>
<td>See where did Vim save View files</td>
</tr>
<tr>
<td><code>:</code>{<code>mk</code>,<code>load</code>}<code>view 1</code></td>
<td>Save &#x2F; Load View, Vim let you save 9 numbered Views</td>
</tr>
</tbody></table>
<h3 id="Automating-View-Creation"><a href="#Automating-View-Creation" class="headerlink" title="Automating View Creation"></a>Automating View Creation</h3><p>e.g. To autosave txt files:</p>
<figure class="highlight vim"><figcaption><span>~/.vimrc</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">autocmd</span> BufWinLeave *.txt <span class="keyword">mkview</span></span><br><span class="line"><span class="keyword">autocmd</span> BufWinEnter *.txt <span class="keyword">silent</span> <span class="keyword">loadview</span></span><br></pre></td></tr></table></figure>

<h3 id="Sessions"><a href="#Sessions" class="headerlink" title="Sessions"></a>Sessions</h3><p>View saves the settings of a window, Session saves the information of all windows (including the layout).</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td><code>:mksession </code>[<code>/path/to/mysession.vim</code>]</td>
<td>By default Vim save <code>Session.vim</code> in current directory</td>
</tr>
<tr>
<td><code>:source Session.vim</code> or <code>$ vim -S Session.vim</code></td>
<td>Load a Session. You can also load from terminal</td>
</tr>
<tr>
<td><code>:set sessionoptions?</code></td>
<td>Show session options</td>
</tr>
<tr>
<td><code>:set sessionoptions-=terminal</code></td>
<td>If you don&#39;t want to save <code>terminal</code></td>
</tr>
</tbody></table>
<p>Session Options:</p>
<ul>
<li><code>blank</code> stores empty windows</li>
<li><code>buffers</code> stores buffers</li>
<li><code>folds</code> stores folds</li>
<li><code>globals</code> stores global variables (must start with an uppercase letter and contain at least one lowercase letter)</li>
<li><code>options</code> stores options and mappings</li>
<li><code>resize</code> stores window lines and columns</li>
<li><code>winpos</code> stores window position</li>
<li><code>winsize</code> stores window sizes</li>
<li><code>tabpages</code> stores tabs</li>
<li><code>unix</code> stores files in Unix format</li>
</ul>
<h3 id="Viminfo"><a href="#Viminfo" class="headerlink" title="Viminfo"></a>Viminfo</h3><p>Viminfo stores:</p>
<ul>
<li><p>The command-line history.</p>
</li>
<li><p>The search string history.</p>
</li>
<li><p>The input-line history.</p>
</li>
<li><p>Contents of non-empty registers.</p>
</li>
<li><p>Marks for several files.</p>
</li>
<li><p>File marks, pointing to locations in files.</p>
</li>
<li><p>Last search &#x2F; substitute pattern (for <code>n</code> and <code>&amp;</code>).</p>
</li>
<li><p>The buffer list.</p>
</li>
<li><p>Global variables.</p>
</li>
<li><p><code>:</code>{<code>w</code>,<code>r</code>}<code>v ~/.viminfo_extra</code> Save &#x2F; Viminfo file</p>
</li>
<li><p><code>$ vim -i ~/.viminfo_extra</code> Load Viminfo file from terminal.</p>
</li>
<li><p><code>$ vim -i NONE</code> Start Vim without Viminfo. To make it permant, you can add <code>set viminfo=&quot;NONE&quot;</code> in your vimrc file</p>
</li>
</ul>
<p><code>:set viminfo?</code><br>You will get like as:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">!,&#x27;100,&lt;50,s10,h</span><br></pre></td></tr></table></figure>

<p>This looks cryptic. Let&#39;s break it down:</p>
<ul>
<li><code>!</code> saves global variables that start with an uppercase letter and don&#39;t contain lowercase letters.<br>Recall that <code>g:</code> indicates a global variable. For example, if at some point you wrote the assignment <code>let g:FOO = &quot;foo&quot;</code>, Viminfo will save the global variable <code>FOO</code>. However if you did <code>let g:Foo = &quot;foo&quot;</code>, Viminfo will not save this global variable because it contains lowercase letters.</li>
<li><code>&#39;100</code> saves the local marks (a-z) of the last 100 files. 1000 is a good number to have.</li>
<li><code>&lt;50</code> maximize 50 lines saved for each register. If you don&#39;t give maximum line number, <em>all</em> lines will be saved. If you give it 0, nothing will be saved.</li>
<li><code>s10</code> size limit (in kb) for each register.</li>
<li><code>h</code> disables highlighting (from <code>hlsearch</code>) when Vim starts.</li>
</ul>
<p>There are more parameters you can set:</p>
<ul>
<li><code>:100</code> stores 100 command-line history.</li>
<li><code>%</code> saves and restore the buffer list.</li>
<li><code>n~/.vim/.viminfo</code> sets Viminfo file path</li>
</ul>
<h2 id="Multiple-File-Operations"><a href="#Multiple-File-Operations" class="headerlink" title="Multiple File Operations"></a>Multiple File Operations</h2><h3 id="Different-Ways-to-Execute-a-Command-in-Multiple-Files"><a href="#Different-Ways-to-Execute-a-Command-in-Multiple-Files" class="headerlink" title="Different Ways to Execute a Command in Multiple Files"></a>Different Ways to Execute a Command in Multiple Files</h3><p>Vim has eight ways to execute commands across multiple files:</p>
<ul>
<li>arg list (<code>argdo</code>)</li>
<li>buffer list (<code>bufdo</code>)</li>
<li>window list (<code>windo</code>)</li>
<li>tab list (<code>tabdo</code>)</li>
<li>quickfix list (<code>cdo</code>)</li>
<li>quickfix list filewise (<code>cfdo</code>)</li>
<li>location list (<code>ldo</code>)</li>
<li>location list filewise (<code>lfdo</code>)</li>
</ul>
<h3 id="Argument-List"><a href="#Argument-List" class="headerlink" title="Argument List"></a>Argument List</h3><p><code>:arg</code>{<code>s</code>,<code>a</code>}<code> file1 file2 file3</code>  Initialize &#x2F; Append argument list. Run <code>:args</code> standalone to view file list.</p>
<h3 id="Location-List"><a href="#Location-List" class="headerlink" title="Location List"></a>Location List</h3><p>You may only have one quickfix list, whereas you can have as many location list as windows. Vim creates a distinct location list for each window.</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td><code>:l</code>{<code>vim</code>,<code>grep</code>}<code> /bagel/ **/*.md</code></td>
<td>location list variant for the <code>:vimgrep</code> &#x2F; <code>:grep</code> command</td>
</tr>
<tr>
<td><code>:l</code>{<code>open</code>,<code>close</code>,<code>first</code>,<code>last</code>,<code>next</code>,<code>prev</code>,<code>make</code>}</td>
<td>bunch of location list vraiant commands</td>
</tr>
</tbody></table>
</div><div class="article-licensing box"><div class="licensing-title"><p>vim-usage</p><p><a href="https://magic0whi.github.io/zh-cn/computer/2020/vim-usage/">https://magic0whi.github.io/zh-cn/computer/2020/vim-usage/</a></p></div><div class="licensing-meta level is-mobile"><div class="level-left"><div class="level-item is-narrow"><div><h6>Author</h6><p>Ndoskrnl</p></div></div><div class="level-item is-narrow"><div><h6>Posted on</h6><p>2020-09-05</p></div></div><div class="level-item is-narrow"><div><h6>Updated on</h6><p>2024-03-16</p></div></div><div class="level-item is-narrow"><div><h6>Licensed under</h6><p><a class="icons" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="icon fab fa-creative-commons"></i></a><a class="icons" rel="noopener" target="_blank" title="Attribution" href="https://creativecommons.org/licenses/by/4.0/"><i class="icon fab fa-creative-commons-by"></i></a><a class="icons" rel="noopener" target="_blank" title="Noncommercial" href="https://creativecommons.org/licenses/by-nc/4.0/"><i class="icon fab fa-creative-commons-nc"></i></a></p></div></div></div></div></div><!--!--></article></div><!--!--><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/zh-cn/learn/2020/data-structure/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">data_structure</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/zh-cn/computer/2020/make-a-risc-v-cpu/"><span class="level-item">make-a-risc-v-cpu</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><!--!--></div><div class="column column-left is-4-tablet is-4-desktop is-4-widescreen  order-1 is-sticky"><div class="card widget" id="toc" data-type="toc"><div class="card-content"><div class="menu"><h3 class="menu-label">Catalogue</h3><ul class="menu-list"><li><a class="level is-mobile" href="#Ch-01-Starting-Vim"><span class="level-left"><span class="level-item">1</span><span class="level-item">Ch 01. Starting Vim</span></span></a></li><li><a class="level is-mobile" href="#Ch-02-Buffers-Windows-and-Tabs"><span class="level-left"><span class="level-item">2</span><span class="level-item">Ch 02 - Buffers, Windows, and Tabs</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#Buffers"><span class="level-left"><span class="level-item">2.1</span><span class="level-item">Buffers</span></span></a></li><li><a class="level is-mobile" href="#Windows"><span class="level-left"><span class="level-item">2.2</span><span class="level-item">Windows</span></span></a></li><li><a class="level is-mobile" href="#Tabs"><span class="level-left"><span class="level-item">2.3</span><span class="level-item">Tabs</span></span></a></li></ul></li><li><a class="level is-mobile" href="#Ch03-Searching-Files"><span class="level-left"><span class="level-item">3</span><span class="level-item">Ch03. Searching Files</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#Searching-in-Files-With-Grep"><span class="level-left"><span class="level-item">3.1</span><span class="level-item">Searching in Files With Grep</span></span></a></li><li><a class="level is-mobile" href="#Browsing-Files-With-Netrw"><span class="level-left"><span class="level-item">3.2</span><span class="level-item">Browsing Files With Netrw</span></span></a></li><li><a class="level is-mobile" href="#Fzf"><span class="level-left"><span class="level-item">3.3</span><span class="level-item">Fzf</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#Search-and-Replace-in-Multiple-Files"><span class="level-left"><span class="level-item">3.3.1</span><span class="level-item">Search and Replace in Multiple Files</span></span></a></li></ul></li></ul></li><li><a class="level is-mobile" href="#Ch04-Vim-Grammar"><span class="level-left"><span class="level-item">4</span><span class="level-item">Ch04. Vim Grammar</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#Grammar-Rule"><span class="level-left"><span class="level-item">4.1</span><span class="level-item">Grammar Rule</span></span></a></li><li><a class="level is-mobile" href="#More-Nouns-Text-Objects"><span class="level-left"><span class="level-item">4.2</span><span class="level-item">More Nouns (Text Objects)</span></span></a></li></ul></li><li><a class="level is-mobile" href="#Ch05-Moving-in-a-File"><span class="level-left"><span class="level-item">5</span><span class="level-item">Ch05. Moving in a File</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#Character-Navigation"><span class="level-left"><span class="level-item">5.1</span><span class="level-item">Character Navigation</span></span></a></li><li><a class="level is-mobile" href="#Current-Line-Navigation"><span class="level-left"><span class="level-item">5.2</span><span class="level-item">Current Line Navigation</span></span></a></li><li><a class="level is-mobile" href="#Sentence-and-Paragraph-Navigation"><span class="level-left"><span class="level-item">5.3</span><span class="level-item">Sentence and Paragraph Navigation</span></span></a></li><li><a class="level is-mobile" href="#Line-Number-Navigation"><span class="level-left"><span class="level-item">5.4</span><span class="level-item">Line Number Navigation</span></span></a></li><li><a class="level is-mobile" href="#Window-Navigation"><span class="level-left"><span class="level-item">5.5</span><span class="level-item">Window Navigation</span></span></a></li><li><a class="level is-mobile" href="#Scrolling"><span class="level-left"><span class="level-item">5.6</span><span class="level-item">Scrolling</span></span></a></li><li><a class="level is-mobile" href="#Search-Navigation"><span class="level-left"><span class="level-item">5.7</span><span class="level-item">Search Navigation</span></span></a></li><li><a class="level is-mobile" href="#Marking-Position"><span class="level-left"><span class="level-item">5.8</span><span class="level-item">Marking Position</span></span></a></li><li><a class="level is-mobile" href="#Jump"><span class="level-left"><span class="level-item">5.9</span><span class="level-item">Jump</span></span></a></li></ul></li><li><a class="level is-mobile" href="#Ch06-Insert-Mode"><span class="level-left"><span class="level-item">6</span><span class="level-item">Ch06. Insert Mode</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#Repeating-Insert-Mode"><span class="level-left"><span class="level-item">6.1</span><span class="level-item">Repeating Insert Mode</span></span></a></li></ul></li><li><a class="level is-mobile" href="#Ch07-the-Dot-Command"><span class="level-left"><span class="level-item">7</span><span class="level-item">Ch07. the Dot Command</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#What-Is-a-Change"><span class="level-left"><span class="level-item">7.1</span><span class="level-item">What Is a Change?</span></span></a></li><li><a class="level is-mobile" href="#Multi-line-Repeat"><span class="level-left"><span class="level-item">7.2</span><span class="level-item">Multi-line Repeat</span></span></a></li><li><a class="level is-mobile" href="#Including-a-Motion-in-a-Change"><span class="level-left"><span class="level-item">7.3</span><span class="level-item">Including a Motion in a Change</span></span></a></li></ul></li><li><a class="level is-mobile" href="#Ch08-Registers"><span class="level-left"><span class="level-item">8</span><span class="level-item">Ch08. Registers</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#Register-Operators"><span class="level-left"><span class="level-item">8.1</span><span class="level-item">Register Operators</span></span></a></li><li><a class="level is-mobile" href="#The-Unnamed-Register"><span class="level-left"><span class="level-item">8.2</span><span class="level-item">The Unnamed Register</span></span></a></li><li><a class="level is-mobile" href="#The-Numbered-Registers"><span class="level-left"><span class="level-item">8.3</span><span class="level-item">The Numbered Registers</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#The-Yanked-Register"><span class="level-left"><span class="level-item">8.3.1</span><span class="level-item">The Yanked Register</span></span></a></li><li><a class="level is-mobile" href="#The-Non-zero-Numbered-Registers"><span class="level-left"><span class="level-item">8.3.2</span><span class="level-item">The Non-zero Numbered Registers</span></span></a></li></ul></li><li><a class="level is-mobile" href="#The-Small-Delete-Register"><span class="level-left"><span class="level-item">8.4</span><span class="level-item">The Small Delete Register</span></span></a></li><li><a class="level is-mobile" href="#The-Named-Register"><span class="level-left"><span class="level-item">8.5</span><span class="level-item">The Named Register</span></span></a></li><li><a class="level is-mobile" href="#The-Read-only-Registers"><span class="level-left"><span class="level-item">8.6</span><span class="level-item">The Read-only Registers</span></span></a></li><li><a class="level is-mobile" href="#The-Alternate-File-Register"><span class="level-left"><span class="level-item">8.7</span><span class="level-item">The Alternate File Register</span></span></a></li><li><a class="level is-mobile" href="#The-Expression-Register"><span class="level-left"><span class="level-item">8.8</span><span class="level-item">The Expression Register</span></span></a></li><li><a class="level is-mobile" href="#The-Selection-Registers"><span class="level-left"><span class="level-item">8.9</span><span class="level-item">The Selection Registers</span></span></a></li><li><a class="level is-mobile" href="#The-Black-Hole-Register"><span class="level-left"><span class="level-item">8.10</span><span class="level-item">The Black Hole Register</span></span></a></li><li><a class="level is-mobile" href="#The-Last-Search-Pattern-Register"><span class="level-left"><span class="level-item">8.11</span><span class="level-item">The Last Search Pattern Register</span></span></a></li><li><a class="level is-mobile" href="#Viewing-the-Registers"><span class="level-left"><span class="level-item">8.12</span><span class="level-item">Viewing the Registers</span></span></a></li><li><a class="level is-mobile" href="#Clearing-a-Register"><span class="level-left"><span class="level-item">8.13</span><span class="level-item">Clearing a Register</span></span></a></li><li><a class="level is-mobile" href="#Putting-the-Content-of-a-Register-Command-line"><span class="level-left"><span class="level-item">8.14</span><span class="level-item">Putting the Content of a Register (Command-line)</span></span></a></li></ul></li><li><a class="level is-mobile" href="#Ch09-Macros"><span class="level-left"><span class="level-item">9</span><span class="level-item">Ch09. Macros</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#Basic-Macros"><span class="level-left"><span class="level-item">9.1</span><span class="level-item">Basic Macros</span></span></a></li><li><a class="level is-mobile" href="#Command-Line-Macro"><span class="level-left"><span class="level-item">9.2</span><span class="level-item">Command-Line Macro</span></span></a></li><li><a class="level is-mobile" href="#Recursive-Macro"><span class="level-left"><span class="level-item">9.3</span><span class="level-item">Recursive Macro</span></span></a></li><li><a class="level is-mobile" href="#Executing-a-Macro-Across-Multiple-Files"><span class="level-left"><span class="level-item">9.4</span><span class="level-item">Executing a Macro Across Multiple Files</span></span></a></li><li><a class="level is-mobile" href="#Appending-a-Macro"><span class="level-left"><span class="level-item">9.5</span><span class="level-item">Appending a Macro</span></span></a></li><li><a class="level is-mobile" href="#Amending-a-Macro"><span class="level-left"><span class="level-item">9.6</span><span class="level-item">Amending a Macro</span></span></a></li><li><a class="level is-mobile" href="#Macro-Redundancy"><span class="level-left"><span class="level-item">9.7</span><span class="level-item">Macro Redundancy</span></span></a></li><li><a class="level is-mobile" href="#Series-vs-Parallel-Macro"><span class="level-left"><span class="level-item">9.8</span><span class="level-item">Series vs Parallel Macro</span></span></a></li></ul></li><li><a class="level is-mobile" href="#Ch10-Undo"><span class="level-left"><span class="level-item">10</span><span class="level-item">Ch10. Undo</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#Undo-Tree"><span class="level-left"><span class="level-item">10.1</span><span class="level-item">Undo Tree</span></span></a></li></ul></li><li><a class="level is-mobile" href="#Ch11-Visual-Mode"><span class="level-left"><span class="level-item">11</span><span class="level-item">Ch11. Visual Mode</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#Visual-Mode-Navigation"><span class="level-left"><span class="level-item">11.1</span><span class="level-item">Visual Mode Navigation</span></span></a></li><li><a class="level is-mobile" href="#Adding-Text-on-Multiple-Lines"><span class="level-left"><span class="level-item">11.2</span><span class="level-item">Adding Text on Multiple Lines</span></span></a></li></ul></li><li><a class="level is-mobile" href="#Ch12-Search-and-Substitute"><span class="level-left"><span class="level-item">12</span><span class="level-item">Ch12. Search and Substitute</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#Search-Visual-Selected-Text"><span class="level-left"><span class="level-item">12.1</span><span class="level-item">Search Visual Selected Text</span></span></a></li><li><a class="level is-mobile" href="#Repeating-Search"><span class="level-left"><span class="level-item">12.2</span><span class="level-item">Repeating Search</span></span></a></li><li><a class="level is-mobile" href="#Repeating-the-Last-Substitution"><span class="level-left"><span class="level-item">12.3</span><span class="level-item">Repeating the Last Substitution</span></span></a></li><li><a class="level is-mobile" href="#Substitution-Range"><span class="level-left"><span class="level-item">12.4</span><span class="level-item">Substitution Range</span></span></a></li><li><a class="level is-mobile" href="#Substitution-Flags"><span class="level-left"><span class="level-item">12.5</span><span class="level-item">Substitution Flags</span></span></a></li><li><a class="level is-mobile" href="#Changing-the-Delimiter"><span class="level-left"><span class="level-item">12.6</span><span class="level-item">Changing the Delimiter</span></span></a></li></ul></li><li><a class="level is-mobile" href="#Ch13-the-Global-Command"><span class="level-left"><span class="level-item">13</span><span class="level-item">Ch13. the Global Command</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#Global-Command-Overview"><span class="level-left"><span class="level-item">13.1</span><span class="level-item">Global Command Overview</span></span></a></li><li><a class="level is-mobile" href="#Advanced-Sort"><span class="level-left"><span class="level-item">13.2</span><span class="level-item">Advanced Sort</span></span></a></li></ul></li><li><a class="level is-mobile" href="#Ch14-External-Commands"><span class="level-left"><span class="level-item">14</span><span class="level-item">Ch14. External Commands</span></span></a></li><li><a class="level is-mobile" href="#Ch15-Command-line-Mode"><span class="level-left"><span class="level-item">15</span><span class="level-item">Ch15. Command-line Mode</span></span></a></li><li><a class="level is-mobile" href="#Ch16-Tags"><span class="level-left"><span class="level-item">16</span><span class="level-item">Ch16. Tags</span></span></a></li><li><a class="level is-mobile" href="#Ch17-Fold"><span class="level-left"><span class="level-item">17</span><span class="level-item">Ch17. Fold</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#Diff-Fold"><span class="level-left"><span class="level-item">17.1</span><span class="level-item">Diff Fold</span></span></a></li><li><a class="level is-mobile" href="#Expression-Fold"><span class="level-left"><span class="level-item">17.2</span><span class="level-item">Expression Fold</span></span></a></li></ul></li><li><a class="level is-mobile" href="#Ch18-Git"><span class="level-left"><span class="level-item">18</span><span class="level-item">Ch18. Git</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#Diffing"><span class="level-left"><span class="level-item">18.1</span><span class="level-item">Diffing</span></span></a></li><li><a class="level is-mobile" href="#Vim-As-a-Merge-Tool"><span class="level-left"><span class="level-item">18.2</span><span class="level-item">Vim As a Merge Tool</span></span></a></li><li><a class="level is-mobile" href="#Git-Inside-Vim"><span class="level-left"><span class="level-item">18.3</span><span class="level-item">Git Inside Vim</span></span></a></li><li><a class="level is-mobile" href="#Vim-fugitive"><span class="level-left"><span class="level-item">18.4</span><span class="level-item">Vim-fugitive</span></span></a></li></ul></li><li><a class="level is-mobile" href="#Ch19-Compile"><span class="level-left"><span class="level-item">19</span><span class="level-item">Ch19. Compile</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#Plugin-Vim-dispatch"><span class="level-left"><span class="level-item">19.1</span><span class="level-item">Plugin: Vim-dispatch</span></span></a></li></ul></li><li><a class="level is-mobile" href="#Ch20-Views-Sessions-and-Viminfo"><span class="level-left"><span class="level-item">20</span><span class="level-item">Ch20. Views, Sessions, and Viminfo</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#View"><span class="level-left"><span class="level-item">20.1</span><span class="level-item">View</span></span></a></li><li><a class="level is-mobile" href="#Automating-View-Creation"><span class="level-left"><span class="level-item">20.2</span><span class="level-item">Automating View Creation</span></span></a></li><li><a class="level is-mobile" href="#Sessions"><span class="level-left"><span class="level-item">20.3</span><span class="level-item">Sessions</span></span></a></li><li><a class="level is-mobile" href="#Viminfo"><span class="level-left"><span class="level-item">20.4</span><span class="level-item">Viminfo</span></span></a></li></ul></li><li><a class="level is-mobile" href="#Multiple-File-Operations"><span class="level-left"><span class="level-item">21</span><span class="level-item">Multiple File Operations</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#Different-Ways-to-Execute-a-Command-in-Multiple-Files"><span class="level-left"><span class="level-item">21.1</span><span class="level-item">Different Ways to Execute a Command in Multiple Files</span></span></a></li><li><a class="level is-mobile" href="#Argument-List"><span class="level-left"><span class="level-item">21.2</span><span class="level-item">Argument List</span></span></a></li><li><a class="level is-mobile" href="#Location-List"><span class="level-left"><span class="level-item">21.3</span><span class="level-item">Location List</span></span></a></li></ul></li></ul></div></div><style>#toc .menu-list > li > a.is-active + .menu-list { display: block; }#toc .menu-list > li > a + .menu-list { display: none; }</style><script src="/js/toc.js" defer></script></div><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">Categories</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/computer/"><span class="level-start"><span class="level-item">computer</span></span><span class="level-end"><span class="level-item tag">17</span></span></a></li><li><a class="level is-mobile" href="/categories/daily-life/"><span class="level-start"><span class="level-item">daily-life</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/learn/"><span class="level-start"><span class="level-item">learn</span></span><span class="level-end"><span class="level-item tag">14</span></span></a><ul><li><a class="level is-mobile" href="/categories/learn/mathematics/"><span class="level-start"><span class="level-item">mathematics</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/minecraft/"><span class="level-start"><span class="level-item">minecraft</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li></ul></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">Tags</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/electronic-and-information-engineering/"><span class="tag">electronic-and-information-engineering</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/mathematics/"><span class="tag">mathematics</span><span class="tag">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/postgraduate/"><span class="tag">postgraduate</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/senior-high-schoool/"><span class="tag">senior-high-schoool</span><span class="tag">1</span></a></div></div></div></div></div></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/Comet_symbol.svg" alt="钱桑の记事本&gt;_" height="28"></a><p class="is-size-7"><span>&copy; 2024 Ndoskrnl</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("zh-cn");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="Back to top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css"><script src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/contrib/auto-render.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/contrib/mhchem.min.js" defer></script><script>window.addEventListener("load", function() {
            document.querySelectorAll('[role="article"] > .content').forEach(function(element) {
                renderMathInElement(element);
            });
        });</script><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"Type something...","untitled":"(Untitled)","posts":"Posts","pages":"Pages","categories":"Categories","tags":"Tags"});
        });</script><!-- hexo injector body_end start -->
    <script>
    (() => {
        function switchTab() {
            if (!location.hash) {
              return;
            }
            Array
                .from(document.querySelectorAll('.tab-content'))
                .forEach($tab => {
                    $tab.classList.add('is-hidden');
                });
            Array
                .from(document.querySelectorAll('.tabs li'))
                .forEach($tab => {
                    $tab.classList.remove('is-active');
                });
            const $activeTab = document.querySelector(location.hash);
            if ($activeTab) {
                $activeTab.classList.remove('is-hidden');
            }
            const $tabMenu = document.querySelector(`a[href="${location.hash}"]`);
            if ($tabMenu) {
                $tabMenu.parentElement.classList.add('is-active');
            }
        }
        switchTab();
        window.addEventListener('hashchange', switchTab, false);
    })();
    </script>
    <!-- hexo injector body_end end --></body></html>