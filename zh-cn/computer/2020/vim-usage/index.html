<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>vim-usage - 钱桑の记事本&gt;_</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="钱桑の记事本&gt;_"><meta name="msapplication-TileImage" content="/img/logo.jpg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="钱桑の记事本&gt;_"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="Learn Vim - Shart Smart Way Here comes a cheatsheet"><meta property="og:type" content="blog"><meta property="og:title" content="vim-usage"><meta property="og:url" content="http://blog.ndoskrnl.net/zh-cn/computer/2020/vim-usage/"><meta property="og:site_name" content="钱桑の记事本&gt;_"><meta property="og:description" content="Learn Vim - Shart Smart Way Here comes a cheatsheet"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="http://blog.ndoskrnl.net/img/og_image.png"><meta property="article:published_time" content="2020-09-05T05:39:28.000Z"><meta property="article:modified_time" content="2022-04-14T10:14:42.358Z"><meta property="article:author" content="Ndoskrnl"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://blog.ndoskrnl.net/zh-cn/computer/2020/vim-usage/"},"headline":"vim-usage","image":["http://blog.ndoskrnl.net/img/og_image.png"],"datePublished":"2020-09-05T05:39:28.000Z","dateModified":"2022-04-14T10:14:42.358Z","author":{"@type":"Person","name":"Ndoskrnl"},"publisher":{"@type":"Organization","name":"钱桑の记事本>_","logo":{"@type":"ImageObject","url":"http://blog.ndoskrnl.net/img/Comet_symbol.svg"}},"description":"Learn Vim - Shart Smart Way Here comes a cheatsheet"}</script><link rel="canonical" href="http://blog.ndoskrnl.net/zh-cn/computer/2020/vim-usage/"><link rel="icon" href="/img/logo.jpg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.2/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css"><!--!--><!--!--><style>.pace{-webkit-pointer-events:none;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pace-inactive{display:none}.pace .pace-progress{background:#3273dc;position:fixed;z-index:2000;top:0;right:100%;width:100%;height:2px}</style><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><!-- hexo injector head_end start --><script>
  (function () {
      function switchTab() {
          if (!location.hash) {
            return;
          }
          Array
              .from(document.querySelectorAll('.tab-content'))
              .forEach($tab => {
                  $tab.classList.add('is-hidden');
              });
          Array
              .from(document.querySelectorAll('.tabs li'))
              .forEach($tab => {
                  $tab.classList.remove('is-active');
              });
          const $activeTab = document.querySelector(location.hash);
          if ($activeTab) {
              $activeTab.classList.remove('is-hidden');
          }
          const $tabMenu = document.querySelector(`a[href="${location.hash}"]`);
          if ($tabMenu) {
              $tabMenu.parentElement.classList.add('is-active');
          }
      }
      switchTab();
      window.addEventListener('hashchange', switchTab, false);
  })();
  </script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.1.0"></head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container navbar-container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/Comet_symbol.svg" alt="钱桑の记事本&gt;_" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a><a class="navbar-item" href="/peers">Peers</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a><a class="navbar-item is-hidden-tablet catalogue" title="Catalogue" href="javascript:;"><i class="fas fa-list-ul"></i></a><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-8-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2020-09-05T05:39:28.000Z" title="9/5/2020, 5:39:28 AM">2020-09-05</time></span><span class="level-item">Updated&nbsp;<time dateTime="2022-04-14T10:14:42.358Z" title="4/14/2022, 10:14:42 AM">2022-04-14</time></span><span class="level-item"><a class="link-muted" href="/categories/computer/">computer</a></span><span class="level-item">1 小时 read (About 6779 words)</span></div></div><h1 class="title is-3 is-size-4-mobile">vim-usage</h1><div class="content"><p>Learn Vim - Shart Smart Way</p>
<p>Here comes a cheatsheet</p>
<span id="more"></span>
<p><code>&lt;s-a&gt;</code> means <code>Shift+A</code><br>
<code>&lt;c-a&gt;</code> means <code>Ctrl+A</code></p>
<p>TODO: works to be merged<br>
<code>&lt;c-o,i&gt;</code>, Jump old / newer position.<br>
<code>&lt;c-^&gt;</code> Go to previously edited buffer.<br>
<code>:tag</code>    Jump to tag definition</p>
<h2 id="Ch-02-Buffers-Windows-and-Tabs">Ch 02 - Buffers, Windows, and Tabs</h2>
<h3 id="Buffers">Buffers</h3>
<table>
<thead>
<tr>
<th><code>:bnext</code> / <code>:blast</code> / <code>:bfirst</code> / <code>:blast</code></th>
<th>Traverse buffers</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>:qall</code> / <code>:wqall</code></td>
<td>Close/Save close</td>
</tr>
<tr>
<td><code>:buffers</code> / <code>:ls</code> / <code>:files</code></td>
<td>List buffers</td>
</tr>
<tr>
<td><code>:bdelete</code></td>
<td>Remove current buffer</td>
</tr>
<tr>
<td><code>:ball</code> / <code>:vertical ball</code></td>
<td>display all buffers horizontally / vertically</td>
</tr>
</tbody>
</table>
<h3 id="Windows-A-window-is-how-you-are-viewing-a-buffer-through">Windows: A window is how you are viewing a buffer through</h3>
<table>
<thead>
<tr>
<th><code>:split [filename]</code> / <code>:vsplit [filename]</code></th>
<th>Split window</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>&lt;c-w&gt; h</code>,<code>j</code>,<code>k</code>,<code>k</code></td>
<td>Navigate</td>
</tr>
<tr>
<td><code>&lt;c-w&gt; v</code>,<code>s</code></td>
<td>Opens a new vertical/horizontal split</td>
</tr>
<tr>
<td><code>&lt;c-w&gt; c</code></td>
<td>Closes a window</td>
</tr>
<tr>
<td><code>&lt;c-w&gt; o</code></td>
<td>Closes all other windows</td>
</tr>
</tbody>
</table>
<h3 id="Tabs-A-tab-is-a-collection-of-windows">Tabs: A tab is a collection of windows</h3>
<table>
<thead>
<tr>
<th><code>:tabnew [filename]</code></th>
<th>Open a new tab</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>:tabclose</code></td>
<td>Close current tab</td>
</tr>
<tr>
<td><code>:tabnext</code> / <code>:tabprev</code></td>
<td>Go to next / previous tab</td>
</tr>
<tr>
<td><code>:tablast</code> / <code>:tabfirst</code></td>
<td>Go to last / first tab</td>
</tr>
</tbody>
</table>
<h2 id="Ch03-Searching-Files">Ch03. Searching Files</h2>
<h3 id="Searching-in-Files-With-Grep">Searching in Files With Grep</h3>
<table>
<thead>
<tr>
<th><code>:find</code> / <code>:edit</code></th>
<th><code>:find</code> finds file in path, <code>:edit</code> doesn’t. Using <code>:set path+=&lt;your-path-here&gt;</code> to set.</th>
</tr>
</thead>
<tbody>
<tr>
<td>1. <code>:vim /pattern/ file</code> <br> 2. <code>:grep -R &quot;pattern&quot;  /path/to/search/</code></td>
<td>Vim’s search uses Quickfix Window.</td>
</tr>
<tr>
<td><code>:copen</code> / <code>:cclose</code></td>
<td>Open/Close the quickfix window</td>
</tr>
<tr>
<td><code>:cnext</code> / <code>:cprev</code></td>
<td>Go to the next / previous error</td>
</tr>
<tr>
<td><code>:colder</code> / <code>:cnewer</code></td>
<td>Go to the older / newer error list</td>
</tr>
<tr>
<td><code>:cfirst</code> / <code>:clast</code></td>
<td>Go to the first / last item in error list</td>
</tr>
</tbody>
</table>
<h3 id="Browsing-Files-With-Netrw">Browsing Files With Netrw</h3>
<table>
<thead>
<tr>
<th><code>:Explore</code></th>
<th>Starts netrw on current file</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>:Sexplore</code></td>
<td>No kidding. Starts netrw on split top half of the screen</td>
</tr>
<tr>
<td><code>:Vexplore</code></td>
<td>Starts netrw on split left half of the screen</td>
</tr>
<tr>
<td><code>%</code></td>
<td>Create a new file</td>
</tr>
<tr>
<td><code>d</code></td>
<td>Create a new directory</td>
</tr>
<tr>
<td><code>R</code></td>
<td>Rename a file or directory</td>
</tr>
<tr>
<td><code>D</code></td>
<td>Delete a file or directory</td>
</tr>
</tbody>
</table>
<h3 id="Fzf">Fzf</h3>
<p>Fzf syntax:</p>
<ul>
<li><code>^</code> prefix exact match. e.g. <code>^welcome</code>.</li>
<li><code>$</code> suffix exact match. e.g. <code>friends$</code>.</li>
<li><code>'</code> exact match. e.g. <code>'welcome my friends</code>.</li>
<li><code>|</code> “or” match. e.g. <code>friends | foes</code>.</li>
<li><code>!</code> inverse match. e.g. <code>welcome !friends</code></li>
</ul>
<table>
<thead>
<tr>
<th><code>:Files</code> or <code>&lt;c-f&gt;</code></th>
<th>Find files</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>:Buffers</code> or <code>&lt;\-b&gt;</code></td>
<td>Find files in buffers</td>
</tr>
<tr>
<td><code>:Rg</code> or <code>&lt;\-f&gt;</code></td>
<td>Find in files context</td>
</tr>
<tr>
<td><code>:BLines</code> or <code>&lt;\-/&gt;</code></td>
<td>Find lines in current buffer</td>
</tr>
<tr>
<td><code>:Marks</code> or <code>&lt;\-'&gt;</code></td>
<td>Find marks</td>
</tr>
<tr>
<td><code>:Commits</code> or <code>&lt;\-g&gt;</code></td>
<td>Find git commits</td>
</tr>
<tr>
<td><code>:Helptags</code> or <code>&lt;\-H&gt;</code></td>
<td>Find help tags</td>
</tr>
<tr>
<td><code>:History</code> or <code>&lt;\-h&gt; h</code></td>
<td>Find in opened files’ history (list <code>:oldfiles</code>)</td>
</tr>
<tr>
<td><code>:History:</code> or <code>&lt;\-h&gt; :</code></td>
<td>Find in command history</td>
</tr>
<tr>
<td><code>:History/</code> or <code>&lt;\-h&gt; /</code></td>
<td>Find in search history</td>
</tr>
</tbody>
</table>
<h4 id="Search-and-Replace-in-Multiple-Files">Search and Replace in Multiple Files</h4>
<p>First method</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">:<span class="keyword">grep</span> <span class="string">&quot;pizza&quot;</span></span><br><span class="line">:cfdo %s/pizza/donut/g | <span class="keyword">update</span></span><br></pre></td></tr></table></figure>
<p>Second method</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">:%<span class="keyword">bd</span> | e#    <span class="comment">&quot;Close all buffer except current file.</span></span><br><span class="line">:Files       <span class="comment">&quot;Select all files you want</span></span><br><span class="line">:<span class="keyword">bufdo</span> %s/pizza/donut/g | <span class="keyword">update</span></span><br></pre></td></tr></table></figure>
<h2 id="Ch04-Vim-Grammar">Ch04. Vim Grammar</h2>
<h3 id="Grammar-Rule">Grammar Rule</h3>
<p>There is only one grammar rule in Vim language: <code>Verb (Operator) + Noun (Motion)</code></p>
<table>
<thead>
<tr>
<th><code>y</code></th>
<th>Yank text (copy)</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>d</code></td>
<td>Delete text and save to register</td>
</tr>
<tr>
<td><code>c</code></td>
<td>Delete text, save to register, and start insert mode</td>
</tr>
<tr>
<td><code>yy</code></td>
<td>yank entire line</td>
</tr>
<tr>
<td><code>dd</code></td>
<td>delete entire line</td>
</tr>
<tr>
<td><code>cc</code></td>
<td>change entire line</td>
</tr>
<tr>
<td><code>y$</code></td>
<td>yank to the end of the line</td>
</tr>
<tr>
<td><code>dw</code></td>
<td>delete to the beginning of the next word</td>
</tr>
<tr>
<td><code>c&#125;</code></td>
<td>change to the end of paragraph</td>
</tr>
<tr>
<td><code>y2h</code></td>
<td>yank two characters to the left</td>
</tr>
<tr>
<td><code>d2w</code></td>
<td>delete the next two words</td>
</tr>
<tr>
<td><code>c2j</code></td>
<td>change the next two lines</td>
</tr>
</tbody>
</table>
<h3 id="More-Nouns-Text-Objects">More Nouns (Text Objects)</h3>
<p>Two types of text objects:</p>
<ul>
<li><code>i + object</code>    Inner text object, select without the white space or the surrounding objects</li>
<li><code>a + object</code>    Outer text object, select including the white space or the surrounding objects</li>
</ul>
<p>e.g. <code>gUiw</code> to uppercase current word.</p>
<p>Common text objects:</p>
<table>
<thead>
<tr>
<th><code>w</code></th>
<th>A word</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>p</code></td>
<td>A paragraph</td>
</tr>
<tr>
<td><code>s</code></td>
<td>A sentence</td>
</tr>
<tr>
<td><code>t</code></td>
<td>XML tags</td>
</tr>
<tr>
<td><code>(</code> / <code>&#123;</code> / <code>[</code> / <code>&lt;</code> or <code>&gt;</code> / <code>]</code> / <code>&#125;</code> / <code>)</code></td>
<td>A pair of <code>( )</code> / <code>&#123; &#125;</code> / <code>[ ]</code> / <code>&lt; &gt;</code></td>
</tr>
<tr>
<td><code>&quot;</code> / <code>'</code> / <code>`</code></td>
<td>A pair of <code>&quot; &quot;</code> / <code>' '</code> / <code>` `</code></td>
</tr>
<tr>
<td><code>%</code></td>
<td>Navigate to another match, usually works for <code>()</code>, <code>[]</code>, <code>&#123;&#125;</code></td>
</tr>
</tbody>
</table>
<h2 id="Ch05-Moving-in-a-File">Ch05. Moving in a File</h2>
<h3 id="Character-Navigation">Character Navigation</h3>
<p>A word is a sequence of characters containing <em>only</em> <code>a-zA-Z0-9_</code>. A WORD is a sequence of all characters except white space (a white space means either space, tab, and EOL).</p>
<table>
<thead>
<tr>
<th><code>gj</code> / <code>gk</code></th>
<th>Down/Up in a soft-wrapped line</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>w</code> / <code>W</code></td>
<td>Move forward to the beginning of the next word/WORD</td>
</tr>
<tr>
<td><code>e</code> / <code>E</code></td>
<td>Move forward one word to the end of the next word/WORD</td>
</tr>
<tr>
<td><code>b</code> / <code>B</code></td>
<td>Move backward to beginning of the previous word/WORD</td>
</tr>
<tr>
<td><code>ge</code> / <code>gE</code></td>
<td>Move backward to end of the previous word/WORD</td>
</tr>
</tbody>
</table>
<h3 id="Current-Line-Navigation">Current Line Navigation</h3>
<table>
<thead>
<tr>
<th><code>0</code></th>
<th>Go to the first char</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>^</code></td>
<td>Go to the first nonblank char</td>
</tr>
<tr>
<td><code>$</code></td>
<td>Go to the last char</td>
</tr>
<tr>
<td><code>g_</code></td>
<td>Go to the last non-blank char</td>
</tr>
<tr>
<td><code>n|</code></td>
<td>Go the column n</td>
</tr>
<tr>
<td><code>f</code> / <code>F</code></td>
<td>Search forward / backward for a char</td>
</tr>
<tr>
<td><code>t</code> / <code>T</code></td>
<td>Search forward / backward for a char, stopping before match</td>
</tr>
<tr>
<td><code>;</code></td>
<td>Repeat the last char search (same direction)</td>
</tr>
<tr>
<td><code>,</code></td>
<td>Repeat the last char search (opposite direction)</td>
</tr>
</tbody>
</table>
<h3 id="Sentence-and-Paragraph-Navigation">Sentence and Paragraph Navigation</h3>
<p>A sentence ends with either <code>. ! ?</code> followed by an EOL, a space, or a tab.<br>
A paragraph begins after each empty line and also at each set of a paragraph macro specified by the pairs of characters in paragraphs option.</p>
<table>
<thead>
<tr>
<th><code>(</code> / <code>)</code></th>
<th>Jump to the previous / next sentence</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>&#123;</code> / <code>&#125;</code></td>
<td>Jump to the previous / next paragraph</td>
</tr>
<tr>
<td><code>[[</code> / <code>]]</code></td>
<td>Jump to the previous / next section</td>
</tr>
</tbody>
</table>
<h3 id="Line-Number-Navigation">Line Number Navigation</h3>
<table>
<thead>
<tr>
<th><code>gg</code></th>
<th>Go to the first line</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>G</code></td>
<td>Go to the last line</td>
</tr>
<tr>
<td><code>nG</code></td>
<td>Go to line n</td>
</tr>
<tr>
<td><code>n%</code></td>
<td>Go to n% in file</td>
</tr>
<tr>
<td><code>&lt;c-g&gt;</code></td>
<td>See total lines in a file</td>
</tr>
</tbody>
</table>
<h3 id="Window-Navigation">Window Navigation</h3>
<table>
<thead>
<tr>
<th><code>H</code></th>
<th>Go to top of screen</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>M</code></td>
<td>Go to medium screen</td>
</tr>
<tr>
<td><code>L</code></td>
<td>Go to bottom of screen</td>
</tr>
<tr>
<td><code>nH</code></td>
<td>Go <code>n</code> line from top</td>
</tr>
<tr>
<td><code>nL</code></td>
<td>Go <code>n</code> line from bottom</td>
</tr>
</tbody>
</table>
<h3 id="Scrolling">Scrolling</h3>
<table>
<thead>
<tr>
<th><code>&lt;c-e,d,f&gt;</code></th>
<th>Scroll down a line / half screen / whole screen</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>&lt;c-y,u,b&gt;</code></td>
<td>Scroll up a line / half screen / whole screen</td>
</tr>
<tr>
<td><code>zt</code></td>
<td>Bring the current line near the top of your screen</td>
</tr>
<tr>
<td><code>zz</code></td>
<td>Bring the current line to the middle of your screen</td>
</tr>
<tr>
<td><code>zb</code></td>
<td>Bring the current line near the bottom of your screen</td>
</tr>
</tbody>
</table>
<h3 id="Search-Navigation">Search Navigation</h3>
<table>
<thead>
<tr>
<th><code>/</code> / <code>?</code></th>
<th>Search forward / backward for a match</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>n</code> / <code>N</code></td>
<td>Repeat last search in same / opposite direction of previous search</td>
</tr>
<tr>
<td><code>:noh</code> <code>&lt;esc&gt;&lt;esc&gt;</code></td>
<td>Turn off match highlights</td>
</tr>
<tr>
<td><code>*</code></td>
<td>Search for whole word under cursor forward, same as type <code>/\&lt;one\&gt;</code></td>
</tr>
<tr>
<td><code>#</code></td>
<td>Search for whole word under cursor backward</td>
</tr>
<tr>
<td><code>g*</code></td>
<td>Search for word under cursor forward</td>
</tr>
<tr>
<td><code>g#</code></td>
<td>Search for word under cursor backward</td>
</tr>
</tbody>
</table>
<h3 id="Marking-Position">Marking Position</h3>
<p>There is a difference between marking with lowercase letters (a-z) and uppercase letters (A-Z). Lowercase alphabets are local marks and uppercase alphabets are global marks (sometimes known as file marks).</p>
<table>
<thead>
<tr>
<th><code>ma</code></th>
<th>Mark position with mark <code>a</code></th>
</tr>
</thead>
<tbody>
<tr>
<td><code> `a</code></td>
<td>Jump to exact position of mark <code>a</code></td>
</tr>
<tr>
<td><code>'a</code></td>
<td>Jump to line of mark <code>a</code></td>
</tr>
<tr>
<td><code>:marks</code></td>
<td>View all marks</td>
</tr>
</tbody>
</table>
<h3 id="Jump">Jump</h3>
<p>Any motion that moves farther than a word and current line navigation is probably a jump.</p>
<table>
<thead>
<tr>
<th><code>''</code></th>
<th>Jump back to the last line in current buffer before jump</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>``</code></td>
<td>Jump back to the last position in current buffer before jump</td>
</tr>
<tr>
<td><code> `[</code></td>
<td>Jump to beginning of previously changed / yanked text</td>
</tr>
<tr>
<td><code> `]</code></td>
<td>Jump to the ending of previously changed / yanked text</td>
</tr>
<tr>
<td><code> `&lt;</code></td>
<td>Jump to the beginning of last visual selection</td>
</tr>
<tr>
<td><code> `&gt;</code></td>
<td>Jump to the ending of last visual selection</td>
</tr>
<tr>
<td><code> `0</code></td>
<td>Jump back to the last edited file when exiting vim</td>
</tr>
<tr>
<td><code>:jumps</code></td>
<td>See jump list</td>
</tr>
<tr>
<td><code>&lt;c-o,i&gt;</code></td>
<td>Move up / down the jump list</td>
</tr>
<tr>
<td><code>m'5j</code></td>
<td>Add current location to jump list, follows a move</td>
</tr>
</tbody>
</table>
<h2 id="Ch06-Insert-Mode">Ch06. Insert Mode</h2>
<h3 id="Ways-to-Go-to-Insert-Mode">Ways to Go to Insert Mode</h3>
<table>
<thead>
<tr>
<th><code>i</code> / <code>I</code> / <code>gI</code></th>
<th>Insert text before the cursor / first non-blank character of the line / start of line</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>a</code> / <code>A</code></td>
<td>Append text after the cursor / end of line</td>
</tr>
<tr>
<td><code>o</code> / <code>O</code></td>
<td>Starts a new line below / above the cursor and insert text</td>
</tr>
<tr>
<td><code>s</code> / <code>S</code> or <code>cc</code></td>
<td>Delete the character / line under the cursor and insert text</td>
</tr>
<tr>
<td><code>gi</code></td>
<td>Insert text in same position where the last insert mode was stopped</td>
</tr>
</tbody>
</table>
<h3 id="Different-Ways-to-Exit-Insert-Mode">Different Ways to Exit Insert Mode</h3>
<p>There are a few different ways to return to the normal mode while in the insert mode:</p>
<table>
<thead>
<tr>
<th><code>&lt;esc&gt;</code></th>
<th>Exit insert mode and go to normal mode</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>&lt;c-[&gt;</code></td>
<td>Exit insert mode and go to normal mode</td>
</tr>
<tr>
<td><code>&lt;c-c&gt;</code></td>
<td>Exit and do not check for abbreviation</td>
</tr>
</tbody>
</table>
<h3 id="Repeating-Insert-Mode">Repeating Insert Mode</h3>
<p><code>10i</code>: Vim will repeat the text 10 times.</p>
<h3 id="Deleting-Chunks-in-Insert-Mode">Deleting Chunks in Insert Mode</h3>
<table>
<thead>
<tr>
<th><code>c-h</code></th>
<th>Delete one char</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>c-w</code></td>
<td>Delete one word</td>
</tr>
<tr>
<td><code>c-u</code></td>
<td>Delete entire line</td>
</tr>
</tbody>
</table>
<h3 id="Insert-From-Register">Insert From Register</h3>
<p><code>c-r &lt;register symbol&gt;</code></p>
<h3 id="Scrolling-Inside-Insert-Mode">Scrolling Inside Insert Mode</h3>
<p><code>&lt;c-x&gt; &lt;c-y&gt;</code>: Scroll up<br>
<code>&lt;c-x&gt; &lt;c-e&gt;</code>: Scroll down</p>
<h3 id="Autocompletion">Autocompletion</h3>
<p><code>&lt;c-x&gt; &lt;c-l,n,i,f&gt;</code>: Insert a whole line / a text from current file / a text from included files / a file name<br>
<code>c-n</code> / <code>c-p</code>: Find the next / previous word match, or navigate up / down the pop-up completion menu</p>
<h3 id="Executing-a-Normal-Mode-Command">Executing a Normal Mode Command</h3>
<table>
<thead>
<tr>
<th><code>&lt;c-o&gt; zz</code></th>
<th>Center window</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>&lt;c-o&gt; H</code>,<code>M</code>,<code>L</code></td>
<td>Jump to top / middle / bottom of the window</td>
</tr>
<tr>
<td><code>&lt;c-o&gt; 'a</code></td>
<td>Jump to mark a</td>
</tr>
<tr>
<td><code>&lt;c-o&gt; 100ihello</code></td>
<td>Insert “hello” 100 times</td>
</tr>
<tr>
<td><code>&lt;c-o&gt; !! curl https://google.com</code></td>
<td>Run <code>curl</code></td>
</tr>
<tr>
<td><code>&lt;c-o&gt; !! pwd</code></td>
<td>Run <code>pwd</code></td>
</tr>
<tr>
<td><code>&lt;c-o&gt; dtz</code></td>
<td>Delete from current location till the letter <code>z</code></td>
</tr>
<tr>
<td><code>&lt;c-o&gt; d</code></td>
<td>Delete from current location to the end of the line</td>
</tr>
</tbody>
</table>
<h2 id="Ch07-the-Dot-Command">Ch07. the Dot Command</h2>
<h3 id="What-Is-a-Change">What Is a Change?</h3>
<p>Any time you update (add, modify, or delete) the content of the current buffer, you are making a change.<br>
The exceptions are updates done by command-line commands (the commands starting with <code>:</code>) do not count as a change.</p>
<p>Every action from the moment you press the insert command operator until you exit the insert command is considered as a change.</p>
<h3 id="Multi-line-Repeat">Multi-line Repeat</h3>
<p>Let’s look at another example:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">zlet zzone = &quot;1&quot;;</span><br><span class="line">zlet zztwo = &quot;2&quot;;</span><br><span class="line">zlet zzthree = &quot;3&quot;;</span><br><span class="line">let four = &quot;4&quot;;</span><br></pre></td></tr></table></figure>
<p>Let’s remove all the z’s. Starting from the first character on the first line, visually select only the first z from the first three lines with blockwise visual mode (<code>Ctrl-Vjj</code>). If you’re not familiar with blockwise visual mode, I will cover them in a later chapter. Once you have the three z’s visually selected, delete them with the delete operator (<code>d</code>). Then move to the next word (<code>w</code>) to the next z. Repeat the change two more times (<code>..</code>). The full command is <code>Ctrl-vjjdw..</code>.</p>
<h3 id="Including-a-Motion-in-a-Change">Including a Motion in a Change</h3>
<p>Replace all “let” with “const” in the following expressions:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">let one = &quot;1&quot;;</span><br><span class="line">let two = &quot;2&quot;;</span><br><span class="line">let three = &quot;3&quot;;</span><br></pre></td></tr></table></figure>
<p>There is a faster way to accomplish this. After you searched <code>/let</code>, run <code>cgnconst&lt;Esc&gt;</code> then <code>. .</code>.</p>
<p><code>gn</code> is a motion that searches forward for the last search pattern (in this case, <code>/let</code>) and automatically does a visual highlight.</p>
<h2 id="Ch08-Registers">Ch08. Registers</h2>
<p>The Ten Register Types</p>
<ol>
<li>The unnamed register (<code>&quot;&quot;</code>).</li>
<li>The numbered registers (<code>&quot;0-9</code>).</li>
<li>The small delete register (<code>&quot;-</code>).</li>
<li>The named registers (<code>&quot;a-z</code>).</li>
<li>The read-only registers (<code>&quot;:</code>, <code>&quot;.</code>,and <code>&quot;%</code>).</li>
<li>The alternate file register (<code>&quot;#</code>).</li>
<li>The expression register (<code>&quot;=</code>).</li>
<li>The selection registers (<code>&quot;*</code> and <code>&quot;+</code>).</li>
<li>The black hole register (<code>&quot;_</code>).</li>
<li>The last search pattern register (<code>&quot;/</code>).</li>
</ol>
<h3 id="Register-Operators">Register Operators</h3>
<p>To use registers, you need to first store them with operators. Here are some operators that store values to registers:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">y    Yank (copy)</span><br><span class="line">c    Delete text and start insert mode</span><br><span class="line">d    Delete text</span><br><span class="line">p    Paste the text after the cursor</span><br><span class="line">P    Paste the text before the cursor</span><br><span class="line">10&quot;ap  Paste text in register a ten times</span><br></pre></td></tr></table></figure>
<h3 id="Calling-Registers-From-Insert-Mode">Calling Registers From Insert Mode</h3>
<p>The syntax to call register a from insert mode is:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Ctrl-R a</span><br></pre></td></tr></table></figure>
<h3 id="The-Unnamed-Register">The Unnamed Register</h3>
<p>It stores the last text you yanked, changed, or deleted.</p>
<p>By default, <code>p</code> (or <code>P</code>) is connected to the unnamed register.</p>
<h3 id="The-Numbered-Registers">The Numbered Registers</h3>
<h4 id="The-Yanked-Register">The Yanked Register</h4>
<p>If you yank an entire line of text (<code>yy</code>), Vim actually saves that text in two registers:</p>
<ol>
<li>The unnamed register (<code>p</code>).</li>
<li>The yanked register (<code>&quot;0p</code>).</li>
</ol>
<p>Any other operations (like delete) will not be stored in register 0.</p>
<h4 id="The-Non-zero-Numbered-Registers">The Non-zero Numbered Registers</h4>
<p>When you change or delete a text that is at least <strong>one line long</strong>, that text will be stored in the numbered registers 1-9 sorted by the most recent.</p>
<p>As a side note, these numbered registers are automatically incremented when using the dot command.</p>
<h3 id="The-Small-Delete-Register">The Small Delete Register</h3>
<p>Changes or deletions less than one line are not stored in the numbered registers 0-9, but in the small delete register (<code>&quot;-</code>).</p>
<h3 id="The-Named-Register">The Named Register</h3>
<p>To yank a word into register a, you can do it with <code>&quot;ayiw</code>.</p>
<ul>
<li><code>&quot;a</code> tells Vim that the next action (delete / change / yank) will be stored in register a.</li>
<li><code>yiw</code> yanks the word.</li>
</ul>
<p>Sometimes you may want to add to your existing named register. In this case, you can append your text instead of starting all over. To do that, you can use the uppercase version of that register. For example, suppose you have the word &quot;Hello &quot; already stored in register a. If you want to add “world” into register a, you can find the text “world” and yank it using A register (<code>&quot;Ayiw</code>).</p>
<h3 id="The-Read-only-Registers">The Read-only Registers</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">.    Stores the last inserted text</span><br><span class="line">:    Stores the last executed command-line</span><br><span class="line">%    Stores the name of current file</span><br></pre></td></tr></table></figure>
<h3 id="The-Alternate-File-Register">The Alternate File Register</h3>
<p>In Vim, <code>#</code> usually represents the alternate file. An alternative file is the last file you opened. To insert the name of the alternate file, you can use <code>&quot;#p</code>.</p>
<h3 id="The-Expression-Register">The Expression Register</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&quot;=1+1&lt;Enter&gt;p</span><br><span class="line">Ctrl-R =1+1    Evaluate mathematical expression from insert mode</span><br></pre></td></tr></table></figure>
<p>You can also get the values from any register via the expression register when appended with <code>@</code>. If you wish to get the text from register a:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;=@a&lt;Enter&gt;p</span><br></pre></td></tr></table></figure>
<p>Similarly, to get values from register a while in insert mode:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Ctrl-r =@a</span><br></pre></td></tr></table></figure>
<h3 id="The-Selection-Registers">The Selection Registers</h3>
<p>Vim has two selection registers: <code>quotestar</code> (<code>&quot;*</code>) and <code>quoteplus</code> (<code>&quot;+</code>). You can use them to access copied text from external programs.</p>
<p>If you yank a word from Vim with <code>&quot;+yiw</code> or <code>&quot;*yiw</code>, you can paste that text in the external program with <code>Ctrl-V</code> (or <code>Cmd-V</code>). Note that this only works if your Vim program comes with the <code>+clipboard</code> option (to check it, run <code>:version</code>).</p>
<h3 id="The-Black-Hole-Register">The Black Hole Register</h3>
<p>You can use the black hole register (<code>&quot;_</code>). To delete a line and not have Vim store the deleted line into any register, use <code>&quot;_dd</code>.</p>
<h3 id="The-Last-Search-Pattern-Register">The Last Search Pattern Register</h3>
<p>To paste your last search (<code>/</code> or <code>?</code>), you can use the last search pattern register (<code>&quot;/</code>). To paste the last search term, use <code>&quot;/p</code>.</p>
<h3 id="Viewing-the-Registers">Viewing the Registers</h3>
<p>To view all your registers, use the <code>:register</code> command. To view only registers &quot;a, &quot;1, and &quot;-, use <code>:register a 1 -</code>.</p>
<p>There is a plugin called <a target="_blank" rel="noopener" href="https://github.com/junegunn/vim-peekaboo">vim-peekaboo</a> that lets you to peek into the contents of the registers when you hit <code>&quot;</code> or <code>@</code> in normal mode and <code>Ctrl-R</code> in insert mode.</p>
<h3 id="Clearing-a-Register">Clearing a Register</h3>
<ul>
<li><code>qaq</code></li>
<li><code>:call setreg('a', 'hello world')</code></li>
<li><code>:let @a = ''</code></li>
</ul>
<h3 id="Putting-the-Content-of-a-Register">Putting the Content of a Register</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">:10put a    Paste text from register a to below line 10.</span><br><span class="line">:g/end/put _    Insert blank lines below all lines contain the text &quot;end&quot;, by using black hole register</span><br></pre></td></tr></table></figure>
<h2 id="Ch09-Macros">Ch09. Macros</h2>
<h3 id="Basic-Macros">Basic Macros</h3>
<p>Suppose you have this text and you want to uppercase everything on each line:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">hello</span><br><span class="line">vim</span><br><span class="line">macros</span><br><span class="line">are</span><br><span class="line">awesome</span><br></pre></td></tr></table></figure>
<p>With your cursor at the start of the line “hello”, run:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">qa0gU$jq</span><br></pre></td></tr></table></figure>
<p>The breakdown:</p>
<ul>
<li><code>qa</code> starts recording a macro in the a register.</li>
<li><code>0</code> goes to beginning of the line.</li>
<li><code>gU$</code> uppercases the text from your current location to the end of the line.</li>
<li><code>j</code> goes down one line.</li>
<li><code>q</code> stops recording.</li>
</ul>
<p>To replay it, run <code>@a</code>. Just like many other Vim commands, you can pass a count argument to macros. For example, running <code>3@a</code> executes the macro three times.</p>
<h3 id="Command-Line-Macro">Command Line Macro</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:2,3 normal @a    execute macro between lines 2 and 3, &#x27;:normal&#x27; allows the user to execute any normal mode command passed as argument.</span><br></pre></td></tr></table></figure>
<h3 id="Executing-a-Macro-Across-Multiple-Files">Executing a Macro Across Multiple Files</h3>
<p>Suppose you have multiple <code>.txt</code> files, each contains some texts. Your task is to uppercase the first word only on lines containing the word “donut”. Assume you have <code>0W~j</code> in register a (the same macro as before). How can you quickly accomplish this?</p>
<p>First file:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">## savory.txt</span><br><span class="line">a. cheddar jalapeno donut</span><br><span class="line">b. mac n cheese donut</span><br><span class="line">c. fried dumpling</span><br></pre></td></tr></table></figure>
<p>Second file:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">## sweet.txt</span><br><span class="line">a. chocolate donut</span><br><span class="line">b. chocolate pancake</span><br><span class="line">c. powdered sugar donut</span><br></pre></td></tr></table></figure>
<p>Third file:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">## plain.txt</span><br><span class="line">a. wheat bread</span><br><span class="line">b. plain donut</span><br></pre></td></tr></table></figure>
<p>Here is how you can do it:</p>
<ul>
<li><code>:args *.txt</code> to find all <code>.txt</code> files in your current directory.</li>
<li><code>:argdo g/donut/normal @a</code> executes the global command <code>g/donut/normal @a</code> on each file inside <code>:args</code>.</li>
<li><code>:argdo update</code> executes <code>update</code> command to save each file inside <code>:args</code> when the buffer has been modified.</li>
</ul>
<h3 id="Recursive-Macro">Recursive Macro</h3>
<p>You can recursively execute a macro by calling the same macro register while recording that macro. Suppose you have this list again and you need to toggle the case of the first word:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a. chocolate donut</span><br><span class="line">b. mochi donut</span><br><span class="line">c. powdered sugar donut</span><br><span class="line">d. plain donut</span><br></pre></td></tr></table></figure>
<p>This time, let’s do it recursively. Run:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">qaqqa0W~j@aq</span><br></pre></td></tr></table></figure>
<p>Here is the breakdown of the steps:</p>
<ul>
<li><code>qaq</code> records an empty macro a. It is necessary to start with an empty register because when you recursively call the macro, it will run whatever is in that register.</li>
<li><code>qa</code> starts recording on register a.</li>
<li><code>0</code> goes to the first character in the current line.</li>
<li><code>W</code> goes to the next WORD.</li>
<li><code>~</code> toggles the case of the character under the cursor.</li>
<li><code>j</code> goes down one line.</li>
<li><code>@a</code> executes macro a.</li>
<li><code>q</code> stops recording.</li>
</ul>
<p>Now you can just run <code>@a</code> and watch Vim execute the macro recursively.</p>
<p>How did the macro know when to stop? When the macro was on the last line, it triedto run <code>j</code>, since there was no more line to go to, it stopped the macro execution.</p>
<h3 id="Appending-a-Macro">Appending a Macro</h3>
<p>Record a macro in register a: <code>qa0W~q</code> (this sequence toggles the case of the next WORD in a line). If you want to append a new sequence to also add a dot at the end of the line, run:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">qAA.&lt;Esc&gt;q</span><br></pre></td></tr></table></figure>
<p>The breakdown:</p>
<ul>
<li><code>qA</code> starts recording the macro in register A.</li>
<li><code>A.&lt;Esc&gt;</code> inserts at the end of the line (here <code>A</code> is the insert mode command, not to be confused with the macro A) a dot, then exits insert mode.</li>
<li><code>q</code> stops recording macro.</li>
</ul>
<p>Now when you execute <code>@a</code>, it not only toggles the case of the next WORD, it also adds a dot at the end of the line.</p>
<h3 id="Amending-a-Macro">Amending a Macro</h3>
<p>Suppose that between uppercasing the first word and adding a period at the end of the line, you need to add the word “deep fried” right before the word “donut” <em>(because the only thing better than regular donuts are deep fried donuts)</em>.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a. chocolate donut</span><br><span class="line">b. mochi donut</span><br><span class="line">c. powdered sugar donut</span><br><span class="line">d. plain donut</span><br></pre></td></tr></table></figure>
<p>First, let’s call the existing macro with <code>:put a</code>:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">0W~A.^[</span><br></pre></td></tr></table></figure>
<p>You can’t literally type <code>&lt;Esc&gt;</code>. You will have to write the internal code representation for the <code>&lt;Esc&gt;</code> key. While in insert mode, you press <code>Ctrl-V</code> followed by <code>&lt;Esc&gt;</code>. Vim will print <code>^[</code>. <code>Ctrl-V</code> is an insert mode operator to insert the next non-digit character <em>literally</em>. Your macro code should look like this now:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">0W~$bideep fried ^[A.^[</span><br></pre></td></tr></table></figure>
<p>At the start of the line, run <code>&quot;ay$</code> to store the yanked text in register a.</p>
<h3 id="Macro-Redundancy">Macro Redundancy</h3>
<p>You can easily duplicate macros from one register to another. For example, to duplicate a macro in register a to register z, you can do <code>:let @z = @a</code>. <code>@a</code> represents the content of register a.</p>
<h3 id="Series-vs-Parallel-Macro">Series vs Parallel Macro</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">import &#123; FUNC1 &#125; from &quot;library1&quot;;</span><br><span class="line">import &#123; FUNC2 &#125; from &quot;library2&quot;;</span><br><span class="line">import &#123; FUNC3 &#125; from &quot;library3&quot;;</span><br><span class="line">import foo from &quot;bar&quot;;</span><br><span class="line">import &#123; FUNC4 &#125; from &quot;library4&quot;;</span><br><span class="line">import &#123; FUNC5 &#125; from &quot;library5&quot;;</span><br></pre></td></tr></table></figure>
<p>If you want to record a macro to lowercase all the uppercased “FUNC”, this macro should work:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">qa0f&#123;gui&#123;jq</span><br></pre></td></tr></table></figure>
<p>Running <code>99@a</code>, only executes the macro three times. It does not execute the macro on last two lines because the execution fails to run <code>f&#123;</code> on the “foo” line. This is expected when running the macro in series. You can always go to the next line where “FUNC4” is and replay that macro again. But what if you want to get everything done in one go?</p>
<p>Run the macro in parallel.</p>
<p>Recall from earlier section that macros can be executed using the  command line command <code>:normal</code> (ex: <code>:3,5 normal @a</code> executes macro a on lines 3-5). If you run <code>:1,$ normal @a</code>, you will see that the macro is being executed on all lines except the “foo” line. It works!</p>
<h2 id="Ch10-Undo">Ch10. Undo</h2>
<h3 id="Breaking-the-Blocks">Breaking the Blocks</h3>
<p><code>Ctrl-G u</code> creates undo break in insert mode.</p>
<p>It is also useful to create an undo breakpoint when deleting chunks in insert mode with <code>Ctrl-W</code> (delete the word before the cursor) and <code>Ctrl-U</code> (delete all text before the cursor). A friend suggested to use the following maps:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">inoremap &lt;c-u&gt; &lt;c-g&gt;u&lt;c-u&gt;</span><br><span class="line">inoremap &lt;c-w&gt; &lt;c-g&gt;u&lt;c-w&gt;</span><br></pre></td></tr></table></figure>
<p>With these, you can easily recover the deleted texts.</p>
<h3 id="Undo-Tree">Undo Tree</h3>
<p>In Vim, every time you press <code>u</code> and then make a different change, Vim stores the previous state’s text by creating an “undo branch”. In this example, after you typed “two”, then pressed <code>u</code>, then typed “three”, you created an leaf branch that stores the state containing the text “two”. At that moment, the undo tree contained at least two leaf nodes: the main node containing the text “three” (most recent) and the undo branch node containing the text “two”. If you had done another undo and typed the text “four”, you would have at three nodes: a main node containing the text “four” and two nodes containing the texts “three” and “two”.</p>
<p>To traverse each undo tree nodes, you can use <code>g+</code> to go to a newer state and <code>g-</code> to go to an older state. The difference between <code>u</code>, <code>Ctrl-R</code>, <code>g+</code>, and <code>g-</code> is that both <code>u</code> and <code>Ctrl-R</code> traverse only the <em>main</em> nodes in undo tree while <code>g+</code> and <code>g-</code> traverse <em>all</em> nodes in the undo tree.</p>
<p><a target="_blank" rel="noopener" href="https://github.com/simnalamburt/vim-mundo">vim-mundo</a> plugin is very useful to help visualize Vim’s undo tree.</p>
<h3 id="Persistent-Undo">Persistent Undo</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">:wundo file.undo  save undo file</span><br><span class="line">:rundo file.undo  load undo file</span><br></pre></td></tr></table></figure>
<p>If you want to have an automatic undo persistence, one way to do it is by adding these in vimrc:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">set undodir=~/.vim/undo_dir</span><br><span class="line">set undofile</span><br></pre></td></tr></table></figure>
<p>make sure that you create the actual <code>undo_dir</code> directory inside <code>~/.vim</code> directory.</p>
<h3 id="Time-Travel">Time Travel</h3>
<p>You can use <code>:undolist</code> to see when the last change was made.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">:earlier 10s    Go to the state 10 seconds before</span><br><span class="line">:earlier 10m    Go to the state 10 minutes before</span><br><span class="line">:earlier 10h    Go to the state 10 hours before</span><br><span class="line">:earlier 10d    Go to the state 10 days before</span><br><span class="line">:later 10s    go to the state 10 seconds later</span><br><span class="line">:later 10m    go to the state 10 minutes later</span><br><span class="line">:later 10h    go to the state 10 hours later</span><br><span class="line">:later 10d    go to the state 10 days later</span><br><span class="line">:later 10     go to the newer state 10 times</span><br><span class="line">:later 10f    go to the state 10 saves later</span><br></pre></td></tr></table></figure>
<h2 id="Ch11-Visual-Mode">Ch11. Visual Mode</h2>
<h3 id="The-Three-Types-of-Visual-Modes">The Three Types of Visual Modes</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">v         Character-wise visual mode</span><br><span class="line">V         Line-wise visual mode</span><br><span class="line">Ctrl-V    Block-wise visual mode</span><br><span class="line">gv        Go to the previous visual mode.</span><br></pre></td></tr></table></figure>
<h3 id="Visual-Mode-Navigation">Visual Mode Navigation</h3>
<p>With <code>o</code> or <code>O</code> in visual mode, the cursor jumps from the beginning to the end of the highlighted block, allowing you to expand the highlight area.</p>
<h3 id="Visual-Mode-Grammar">Visual Mode Grammar</h3>
<p>There is no noun in visual mode, select the text block first, then the command follows.</p>
<h3 id="Adding-Text-on-Multiple-Lines">Adding Text on Multiple Lines</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">const one = &quot;one&quot;</span><br><span class="line">const two = &quot;two&quot;</span><br><span class="line">const three = &quot;three&quot;</span><br></pre></td></tr></table></figure>
<p>With your cursor on the first line:</p>
<ul>
<li>Run block-wise visual mode and go down two lines (<code>Ctrl-V jj</code>).</li>
<li>Highlight to the end of the line (<code>$</code>).</li>
<li>Append (<code>A</code>) then type “;”.</li>
<li>Exit visual mode (<code>&lt;Esc&gt;</code>).</li>
</ul>
<p>Alternatively, you can also use the <code>:normal</code> command to add text on multiple lines:</p>
<ul>
<li>Highlight all 3 lines (<code>vjj</code>).</li>
<li>Type <code>:normal! A;</code>.</li>
</ul>
<h3 id="Incrementing-Numbers">Incrementing Numbers</h3>
<p>Vim has <code>Ctrl-X</code> and <code>Ctrl-A</code> commands to decrement and increment numbers. When used with visual mode, you can increment numbers across multiple lines.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;app-1&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;div id=&quot;app-1&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;div id=&quot;app-1&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;div id=&quot;app-1&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;div id=&quot;app-1&quot;&gt;&lt;/div&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li>Move your cursor to the “1” on the second line.</li>
<li>Start block-wise visual mode and go down 3 lines (<code>Ctrl-V 3j</code>). This highlights the remaining  &quot;1&quot;s. Now all “1” should be highlighted (except the first line).</li>
<li>Run <code>g Ctrl-A</code>.</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">set nrformats+=alpha</span><br></pre></td></tr></table></figure>
<p>By adding <code>alpha</code>, an alphabetical character is now considered as a number. If you have the following HTML elements:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;app-a&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;div id=&quot;app-a&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;div id=&quot;app-a&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;div id=&quot;app-a&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;div id=&quot;app-a&quot;&gt;&lt;/div&gt;</span><br></pre></td></tr></table></figure>
<h2 id="Ch12-Search-and-Substitute">Ch12. Search and Substitute</h2>
<h3 id="Smart-Case-Sensitivity">Smart Case Sensitivity</h3>
<p>Vim has a <code>smartcase</code> option to search for case insensitive string if the search pattern <em>contains at least one uppercase character</em>.</p>
<p>Inside your vimrc, add:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">set ignorecase smartcase</span><br></pre></td></tr></table></figure>
<p>You can use <code>\C</code> pattern anywhere in your search term to tell Vim that the subsequent search term will be case sensitive. If you do <code>/\Chello</code>, it will strictly match “hello”, not “HELLO” or “Hello”.</p>
<h3 id="Repeating-Search">Repeating Search</h3>
<p>You can repeat the previous search with <code>//</code>.</p>
<p>You can quickly traverse the search history by first pressing <code>/</code>, then press <code>up</code>/<code>down</code> arrow keys (or <code>Ctrl-N</code>/<code>Ctrl-P</code>)</p>
<h3 id="Repeating-the-Last-Substitution">Repeating the Last Substitution</h3>
<p>You can repeat the last substitute command with either the normal command <code>&amp;</code> or by running <code>:s</code>. If you have just run <code>:s/good/awesome/</code>, running either <code>&amp;</code> or <code>:s</code> will repeat it.</p>
<p>If <code>/good</code> was done recently and you leave the first substitute pattern argument blank, like in <code>:s//awesome/</code>, it works the same as running <code>:s/good/awesome/</code>.</p>
<h3 id="Substitution-Range">Substitution Range</h3>
<p>Here are some range variations you can pass:</p>
<ul>
<li><code>:,3s/let/const/</code> Substitute from current line to line 3.</li>
<li><code>:1,s/let/const/</code> Substitute from line 1 to current line.</li>
<li><code>:3s/let/const/</code> -it does substitution on line 3 only.</li>
<li>In Vim, <code>%</code> usually means the entire file. If you run <code>:%s/let/const/</code>, it will do substitution on all lines.</li>
</ul>
<p>In addition to numbers, you can also use these symbols as range:</p>
<ul>
<li><code>.</code> means the current line. A range of <code>.,3</code> means between the current line and line 3.</li>
<li><code>$</code> means the last line in the file. <code>3,$</code> range means between line 3 and the last line.</li>
<li><code>+n</code> means n lines after the current line. You can use it with <code>.</code> or without. <code>3,+1</code> or <code>3,.+1</code> means between line 3 and the line after the current line.</li>
</ul>
<h3 id="Substitution-Flags">Substitution Flags</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&amp;    Reuse the flags from the previous substitute command.</span><br><span class="line">g    Replace all matches in the line.</span><br><span class="line">c    Ask for substitution confirmation.</span><br><span class="line">e    Prevent error message from displaying when substitution fails.</span><br><span class="line">i    Perform case insensitive substitution.</span><br><span class="line">I    Perform case sensitive substitution.</span><br></pre></td></tr></table></figure>
<p>By the way, the repeat-substitution commands (<code>&amp;</code> and <code>:s</code>) do not retain the flags. To quickly repeat the last substitute command with all the flags, run <code>:&amp;&amp;</code>.</p>
<h3 id="Changing-the-Delimiter">Changing the Delimiter</h3>
<p>When it is hard to tell which forward slashes (<code>/</code>) are part of the substitution pattern and which ones are the delimiters. You can change the delimiter with any single-byte characters (except for alphabets, numbers, or <code>&quot;</code>, <code>|</code>, and <code>\</code>). Let’s replace them with <code>+</code>:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:s+https:\/\/mysite.com\/a\/b\/c\/d\/e+hello+</span><br></pre></td></tr></table></figure>
<h2 id="Ch13-the-Global-Command">Ch13. the Global Command</h2>
<h3 id="Global-Command-Overview">Global Command Overview</h3>
<p>The global command has the following syntax:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:g/pattern/command</span><br></pre></td></tr></table></figure>
<p>The global command executes <code>command</code> against each line that matches the <code>pattern</code>.</p>
<p>If you have the following expressions:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">const one = 1;</span><br><span class="line">console.log(&quot;one: &quot;, one);</span><br><span class="line"></span><br><span class="line">const two = 2;</span><br><span class="line">console.log(&quot;two: &quot;, two);</span><br><span class="line"></span><br><span class="line">const three = 3;</span><br><span class="line">console.log(&quot;three: &quot;, three);</span><br></pre></td></tr></table></figure>
<p>To remove all lines containing “console”, you can run:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:g/console/d</span><br></pre></td></tr></table></figure>
<h3 id="Inverse-Match">Inverse Match</h3>
<p>To run the global command on non-matching lines, you can run:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:g!/pattern/command</span><br></pre></td></tr></table></figure>
<p>or</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:v/pattern/command</span><br></pre></td></tr></table></figure>
<h3 id="Reversing-the-Entire-Buffer">Reversing the Entire Buffer</h3>
<p>To reverse the entire file, run:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:g/^/m 0</span><br></pre></td></tr></table></figure>
<h3 id="Aggregating-All-Todos">Aggregating All Todos</h3>
<p>To copy all TODOs to the end of the file for easier introspection, run:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:g/TODO/t $</span><br></pre></td></tr></table></figure>
<p><code>:t</code> (copy) method copys all matches to an address.</p>
<h3 id="Black-Hole-Delete">Black Hole Delete</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:g/console/d_</span><br></pre></td></tr></table></figure>
<h3 id="Reduce-Multiple-Empty-Lines-to-One-Empty-Line">Reduce Multiple Empty Lines to One Empty Line</h3>
<p>You can also run the global command with the following form: <code>:g/pattern1/,/pattern2/command</code>. With this, Vim will apply the <code>command</code> within <code>pattern1</code> and <code>pattern2</code>.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:g/^$/,/./-1j</span><br></pre></td></tr></table></figure>
<p>With that in mind, let’s break down the command:</p>
<ul>
<li><code>/^$/</code> represents an empty line (a line with zero character).</li>
<li><code>/./</code> represents a non-empty line (a line with at least one character). The <code>-1</code> means the line above that.</li>
<li><code>command</code> is <code>j</code>, the join command (<code>:j</code>). In this context, this global command joins all the given lines.</li>
</ul>
<h3 id="Advanced-Sort">Advanced Sort</h3>
<p>If you have the following expressions:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">const arrayB = [</span><br><span class="line">  &quot;i&quot;,</span><br><span class="line">  &quot;g&quot;,</span><br><span class="line">  &quot;h&quot;,</span><br><span class="line">  &quot;b&quot;,</span><br><span class="line">  &quot;f&quot;,</span><br><span class="line">  &quot;d&quot;,</span><br><span class="line">  &quot;e&quot;,</span><br><span class="line">  &quot;c&quot;,</span><br><span class="line">  &quot;a&quot;,</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line">const arrayA = [</span><br><span class="line">  &quot;h&quot;,</span><br><span class="line">  &quot;b&quot;,</span><br><span class="line">  &quot;f&quot;,</span><br><span class="line">  &quot;d&quot;,</span><br><span class="line">  &quot;e&quot;,</span><br><span class="line">  &quot;a&quot;,</span><br><span class="line">  &quot;c&quot;,</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<p>If you need to sort the elements inside the arrays, but not the arrays themselves, you can run this:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:g/\[/+1,/\]/-1sort</span><br></pre></td></tr></table></figure>
<h2 id="Ch14-External-Commands">Ch14. External Commands</h2>
<h3 id="Reading-the-STDOUT-of-a-Command-Into-Vim">Reading the STDOUT of a Command Into Vim</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">:r !cmd     Read the STDOUT of an external command into the current buffer</span><br><span class="line">:r file1.txt</span><br></pre></td></tr></table></figure>
<h3 id="Writing-the-Buffer-Content-Into-an-External-Command">Writing the Buffer Content Into an External Command</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:w !cmd    Pass the text in the current buffer as the STDIN for an external command</span><br></pre></td></tr></table></figure>
<h3 id="Filtering-Texts">Filtering Texts</h3>
<p>If you give <code>!</code> a range, it can be used to filter texts. Suppose you have the following texts:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hello vim</span><br><span class="line">hello vim</span><br></pre></td></tr></table></figure>
<p>Let’s uppercase the current line using the <code>tr</code> (translate) command. Run:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:.!tr &#x27;[:lower:]&#x27; &#x27;[:upper:]&#x27;</span><br></pre></td></tr></table></figure>
<h3 id="Normal-Mode-Command">Normal Mode Command</h3>
<p>To uppercase the current line and the line below, you can run:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">!jtr &#x27;[a-z]&#x27; &#x27;[A-Z]&#x27;</span><br></pre></td></tr></table></figure>
<h2 id="Ch15-Command-line-Mode">Ch15. Command-line Mode</h2>
<h3 id="Command-line-Mode-Shortcuts">Command-line Mode Shortcuts</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">Ctrl-B    Go to the start of the line</span><br><span class="line">Ctrl-E    Go to the end of the line</span><br><span class="line">Ctrl-H    Delete one character</span><br><span class="line">Ctrl-W    Delete one word</span><br><span class="line">Ctrl-U    Delete the entire line</span><br><span class="line">Ctrl-F    Edit the command like a normal textfile, same with q:</span><br><span class="line">Ctrl-R Ctrl-W  Get the word under the cursor</span><br><span class="line">Ctrl-R Ctrl-A  Get the WORD under cursor</span><br><span class="line">Ctrl-R Ctrl-L  Get the line line under cursor</span><br><span class="line">Ctrl-R Ctrl-F  Get the filename under the cursor</span><br><span class="line">:his :    View command history</span><br><span class="line">:his /    View search history, same with :his ?</span><br><span class="line">q/        Open search history window and edit, same with q?</span><br></pre></td></tr></table></figure>
<h2 id="Ch16-Tags">Ch16. Tags</h2>
<p>To jump to a definition, you can use <code>Ctrl-]</code> in the normal mode.<br>
However, you need to generate the tag file first.</p>
<p>Here I recommand universal ctags, install it by <code>pacman -S ctags</code><br>
let’s generate a basic tag file. Run:</p>
<figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">ctags -R .</span></span><br></pre></td></tr></table></figure>
<h3 id="The-Tag-File">The Tag File</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:set tags?</span><br></pre></td></tr></table></figure>
<p>You don’t have to store your tag file inside your project, you can keep them separate.</p>
<p>To add a new tag file location, use the following:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">set tags+=path/to/my/tags/file</span><br></pre></td></tr></table></figure>
<h3 id="Generating-Tags-for-a-Large-Project">Generating Tags for a Large Project</h3>
<figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">ctags -R --exclude=.git --exclude=vendor --exclude=node_modules --exclude=db --exclude=<span class="built_in">log</span> .</span></span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">:tselect pancake    selective tag jumps, type numerical key to jump.</span><br><span class="line">:tjump donut         selective tag jumps, prompt only when &gt; 2 options.</span><br><span class="line">g Ctrl-]            normal mode key for tjump, much useful.</span><br><span class="line">Ctrl-X Ctrl-]       auto completion with tags.</span><br><span class="line">:tags               a list of the tags you have jumped to. Called tag stack.</span><br><span class="line">:pop                to &quot;pop&quot; the tag stack.</span><br></pre></td></tr></table></figure>
<h3 id="Using-Plugins-to-generate-Tags-on-save">Using Plugins to generate Tags on save</h3>
<p>I use <a target="_blank" rel="noopener" href="https://github.com/ludovicchabant/vim-gutentags">vim-gutentags</a>.</p>
<h2 id="Ch17-Fold">Ch17. Fold</h2>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">##Manual Fold</span><br><span class="line">zfj    &#x27;zf&#x27; is the fold operator, whereas &#x27;j&#x27; is the motion, it can be either a text object. You can fold from visual mode.</span><br><span class="line">zo    open a foleded text.</span><br><span class="line">zc    close he fold.</span><br><span class="line">:,+1fold    fold in command-line mode</span><br><span class="line">zR    open all folds.</span><br><span class="line">zM    close all folds.</span><br><span class="line">za    toggle a fold.</span><br><span class="line"></span><br><span class="line">:set foldmethod?    to see which folding method you are currently using. There are six different fold methods: manual, indent, expression, syntax, diff, marker. manual is the default.</span><br><span class="line"></span><br><span class="line">##Indent Fold</span><br><span class="line">:set foldmethod=indent</span><br><span class="line">:set shiftwidth=1    set the how much spaces the Vim consider as an indent fold.</span><br><span class="line"></span><br><span class="line">##Syntax Fold</span><br><span class="line">:set foldmethod=syntax    fold is determined by syntax language highlighting. Using a language syntax plugin like vim-polyglot, this will work right out of box.</span><br><span class="line"></span><br><span class="line">##Diff Fold</span><br><span class="line">$ vimdiff file1.txt file2.txt</span><br><span class="line">$ vim -d file1.txt file2.txt    Same as vimdiff</span><br><span class="line"></span><br><span class="line">##Marker Fold</span><br><span class="line">:set foldmethod=marker    Vim looks for special markers defined by &#x27;foldmarker&#x27; option.</span><br><span class="line">:set foldmarker=coffee1,coffee2</span><br><span class="line"></span><br><span class="line">##Persisting Fold</span><br><span class="line">## Goto see Chapter View</span><br></pre></td></tr></table></figure>
<h3 id="Expression-Fold">Expression Fold</h3>
<p>Expression fold allows you to define an expression to match for a fold. if the ‘foldexpr’ return 0, then the line is not folded.<br>
<code>:set foldmethod=expr</code></p>
<p>Suppose you have a list of breakfast foods and you want to fold all breakfast items starting with “p”:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">donut</span><br><span class="line">pancake</span><br><span class="line">pop-tarts</span><br><span class="line">protein bar</span><br><span class="line">salmon</span><br><span class="line">scrambled eggs</span><br></pre></td></tr></table></figure>
<p>Next, change the <code>foldexpr</code> to capture the expressions starting with “p”:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:set foldexpr=getline(v:lnum)[0]==\\&quot;p\\&quot;</span><br></pre></td></tr></table></figure>
<p>The expression above looks complicated. Let’s break it down:</p>
<ul>
<li><code>:set foldexpr</code> sets up the <code>'foldexpr'</code> option to accept a custom expression.</li>
<li><code>getline()</code> is a Vimscript function that returns the content of any given line. If you run <code>:echo getline(5)</code>, it will return the content of line 5.</li>
<li><code>v:lnum</code> is Vim’s special variable for the <code>'foldexpr'</code> expression. Vim scans each line and at that moment stores each line’s number in <code>v:lnum</code> variable. On line 5, <code>v:lnum</code> has value of 5. On line 10, <code>v:lnum</code> has value of 10.</li>
<li><code>[0]</code> in the context of <code>getline(v:lnum)[0]</code> is the first character of each line. When Vim scans a line, <code>getline(v:lnum)</code> returns the content of each line. <code>getline(v:lnum)[0]</code> returns the first character of each line. On the first line of our list, “donut”, <code>getline(v:lnum)[0]</code> returns “d”. On the second line of our list, “pancake”, <code>getline(v:lnum)[0]</code> returns “p”.</li>
<li><code>==\\&quot;p\\&quot;</code> is the second half of the equality expression. It checks if the expression you just evaluated is equal to “p”. If it is true, it returns 1. If it is false, it returns 0. In Vim, 1 is truthy and 0 is falsy. So on the lines that start with an “p”, it returns 1. Recall if a <code>'foldexpr'</code> has a value of 1, then it has a fold level of 1.</li>
</ul>
<h2 id="Ch18-Git">Ch18. Git</h2>
<h3 id="Diffing">Diffing</h3>
<p><code>vimdiff</code> or <code>vim -d</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">]c    jump to next diff</span><br><span class="line">[c    jump to previous diff</span><br><span class="line">:diffput    put out the text from the current buffer to another buffer.</span><br><span class="line">:diffget    get the text from another buffer to the current buffer.</span><br><span class="line">If you have multiple buffers, use :diffput fileN.txt and :diffget fileN.txt</span><br></pre></td></tr></table></figure>
<h3 id="Vim-As-a-Merge-Tool">Vim As a Merge Tool</h3>
<p>Change the default merge tool to use <code>vimdiff</code>:</p>
<figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git config merge.tool vimdiff</span><br><span class="line">git config merge.conflictstyle diff3</span><br><span class="line">git config mergetool.prompt false</span><br><span class="line">git config mergetool.keepBackup false    # Git create a backup file in case things don&#x27;t go well, so disable it.</span><br></pre></td></tr></table></figure>
<p>When there comes a conflict, run:</p>
<figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git mergetool</span><br></pre></td></tr></table></figure>
<p>Vim displays four windows.</p>
<ul>
<li><code>LOCAL</code>  is the change in “local”, what you are merging into.</li>
<li><code>BASE</code> is the common ancestor between <code>LOCAL</code> and <code>REMOTE</code> to compare how they diverge.</li>
<li><code>REMOTE</code> is what is being merged into.</li>
<li>The fourth window contains the git’s merge conflict texts. You cursor should be on this window. Your can run <code>:diffget BASE</code> or <code>:diffget REMOTE</code> to get the change from that.</li>
</ul>
<h3 id="Git-Inside-Vim">Git Inside Vim</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">:!git add %         &quot; git add current file</span><br><span class="line">:!git checkout #    &quot; git checkout the other file</span><br><span class="line">:windo !git add %   &quot; add multiple files in different window</span><br></pre></td></tr></table></figure>
<h3 id="Vim-fugitive">Vim-fugitive</h3>
<p>The <a target="_blank" rel="noopener" href="https://github.com/tpope/vim-fugitive">vim-fugitive</a> plugin allows you to run the git CLI without leaving the Vim editor. You will find that some commands are better when executed from inside Vim.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">:Git             &quot;display a git summary window, you can do</span><br><span class="line">  Ctrl-N/Ctrl-P  &quot;to go up or down the file list.</span><br><span class="line">  -              &quot;to stage or unstage the file under the cursor.</span><br><span class="line">  s              &quot;to stage the file under the cursor.</span><br><span class="line">  u              &quot;to unstage the file under the cursor.</span><br><span class="line">  &gt; or &lt;         &quot;to display or hide an inline diff of the file under the cursor.</span><br><span class="line"></span><br><span class="line">:Git blame       &quot;display a split blame window, you can do</span><br><span class="line">  q              &quot;to close the the blame window.</span><br><span class="line">  A              &quot;to resize the author column.</span><br><span class="line">  C              &quot;to resize the commit column.</span><br><span class="line">  D              &quot;to resize the data / time column.</span><br><span class="line"></span><br><span class="line">:Gdiffsplit      &quot;runs a &#x27;vimdiff&#x27; of the current file against the index or work tree. Or run :Gdiffsplit &lt;commit&gt; to specify a commit.</span><br><span class="line"></span><br><span class="line">:Gwrite          &quot;Stage the changes of current file. Like &#x27;git add &lt;current=file&gt;&#x27;</span><br><span class="line">:Gread           &quot;Restore the file. Like &#x27;git checkout &lt;current-file&gt;&#x27;. You can undo this action.</span><br><span class="line">:Gclog           &quot;display the commit history. Like &#x27;git log&#x27;, but this one using quickfix, so you can use &#x27;:cnext&#x27; and &#x27;:cprevious&#x27; to traverse the log information. Furthmore, you can run &#x27;:Gclog&#x27; arguments just like before, such as &#x27;:Gclog --after=&quot;January 1&quot; --before=&quot;March 14&quot;&#x27;</span><br></pre></td></tr></table></figure>
<h2 id="Ch19-Compile">Ch19. Compile</h2>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">:make    &quot;Vim looks for a makefile in the current directory and execute it. You specify a command and other arguments just like running it from terminal. It uses quickfix to store any error.</span><br><span class="line"></span><br><span class="line">:set makeprg=g++\ %\ -o\ %&lt;    &quot;to change the &#x27;:make&#x27; command.</span><br><span class="line">&quot; &#x27;\ &#x27; is to escape the space after &#x27;g++&#x27;.</span><br><span class="line">&quot; &#x27;%&lt;&#x27; represents the current file name without an extension (hello.cpp becomes hello)</span><br><span class="line"></span><br><span class="line">autocmd BufWritePost *.cpp make    &quot;add in &#x27;.vimrc&#x27;, to auto-compile on save.</span><br><span class="line"></span><br><span class="line">:compiler ruby    &quot;vim runs the &#x27;$VIMRUNTIME/compiler/ruby.vim&#x27; script and changes the &#x27;makeprg&#x27; to use the ruby.</span><br><span class="line"></span><br><span class="line">&quot;To create a simple Typescript compiler, in your &#x27;~/.vim/compiler/typescript.vim&#x27;:</span><br><span class="line">CompilerSet makeprg=tsc</span><br><span class="line">CompilerSet errorformat=%f:\ %m</span><br><span class="line">&quot; &#x27;%f&#x27; represents the error file, whereas &#x27;%m&#x27; represents the error message.</span><br></pre></td></tr></table></figure>
<h3 id="Plugin-Vim-dispatch">Plugin: Vim-dispatch</h3>
<p><a target="_blank" rel="noopener" href="https://github.com/tpope/vim-dispatch">vim-dispatch</a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">###Async Make</span><br><span class="line">:Make    &quot;Vim will run make asynchronously. You can continue doing whatever your were doing.</span><br><span class="line"></span><br><span class="line">###Async Dispatch</span><br><span class="line">:Dispatch    &quot;like the &#x27;:compiler&#x27; and the &#x27;:!&#x27; command. It can run any external command asynchronously. e.g. &#x27;:Dispatch bundle exec rspec %&#x27;</span><br><span class="line"></span><br><span class="line">###Automating Dispatch</span><br><span class="line">&quot;Vim-dispatch has &#x27;b:dispatch&#x27; buffer variable that you can configure to evaluate specific command automatically.</span><br><span class="line">&quot;If you add this in your &#x27;.vimrc&#x27;, each time you enter a file that ends with &#x27;_spec.rb&#x27;, running &#x27;:Dispatch&#x27; automatically &#x27;executes bundle exec rspec %&#x27;:</span><br><span class="line">autocmd BufEnter *_spec.rb let b:dispatch = &#x27;bundle exec rspec %&#x27;</span><br></pre></td></tr></table></figure>
<h2 id="Ch20-Views-Sessions-and-Viminfo">Ch20. Views, Sessions, and Viminfo</h2>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line">##View</span><br><span class="line">&quot;A View is the smallest subset of the three (View, Session, Viminfo). It is a collection of settings for one window.</span><br><span class="line"></span><br><span class="line">:set viewoptions?</span><br><span class="line">:set viewoptions+=localoptions    &quot;tell View to remember the &#x27;localoptions&#x27;</span><br><span class="line">:mkview 1                          &quot;save the View, Vim let you save 9 numbered Views</span><br><span class="line">:loadview 1                        &quot;load the View</span><br><span class="line">:set viewdir?                     &quot;see where did Vim save View files</span><br><span class="line"></span><br><span class="line">###Automating View Creation</span><br><span class="line">To autosave file name with txt extensions, add these in your &#x27;.vimrc&#x27;:</span><br><span class="line">autocmd BufWinLeave *.txt mkview</span><br><span class="line">autocmd BufWinEnter *.txt silent loadview</span><br><span class="line"></span><br><span class="line">##Sessions</span><br><span class="line">&quot;If a View saves the settings of a window, a Session saves the information of all windows (including the layout).</span><br><span class="line"></span><br><span class="line">:mksession    &quot;by default, this will save a Session file (Session.vim) in the current directory. Otherwise, you can pass an argument like &#x27;:mksession ~/some/where/else.vim&#x27;</span><br><span class="line">:source Session.vim     &quot;To load a Session.</span><br><span class="line">&quot;You can also load a Session file from the terminal:</span><br><span class="line">$ vim -S Session.vim</span><br><span class="line"></span><br><span class="line">:set sessionoptions?</span><br><span class="line">:set sessionoptions-=terminal    &quot;If you don&#x27;t want to save &#x27;terminal&#x27;.</span><br><span class="line">- `blank` stores empty windows</span><br><span class="line">- `buffers` stores buffers</span><br><span class="line">- `folds` stores folds</span><br><span class="line">- `globals` stores global variables (must start with an uppercase letter and contain at least one lowercase letter)</span><br><span class="line">- `options` stores options and mappings</span><br><span class="line">- `resize` stores window lines and columns</span><br><span class="line">- `winpos` stores window position</span><br><span class="line">- `winsize` stores window sizes</span><br><span class="line">- `tabpages` stores tabs</span><br><span class="line">- `unix` stores files in Unix format</span><br><span class="line"></span><br><span class="line">##Viminfo</span><br><span class="line">Viminfo stores:</span><br><span class="line">- The command-line history.</span><br><span class="line">- The search string history.</span><br><span class="line">- The input-line history.</span><br><span class="line">- Contents of non-empty registers.</span><br><span class="line">- Marks for several files.</span><br><span class="line">- File marks, pointing to locations in files.</span><br><span class="line">- Last search / substitute pattern (for &#x27;n&#x27; and &#x27;&amp;&#x27;).</span><br><span class="line">- The buffer list.</span><br><span class="line">- Global variables.</span><br><span class="line"></span><br><span class="line">:wv ~/.viminfo_extra    &quot;although you will use only one Viminfo file, you can create multiple Viminfo files.</span><br><span class="line">:rv ~/.viminfo_extra</span><br><span class="line"></span><br><span class="line">&quot;You can also load a Viminfo file from the terminal:</span><br><span class="line">$ vim -i ~/.viminfo_extra</span><br><span class="line">$ vim -i NONE    # To start Vim without Viminfo</span><br><span class="line">To make it permant, you can add this in your vimrc file:</span><br><span class="line">set viminfo=&quot;NONE&quot;</span><br><span class="line"></span><br><span class="line">:set viminfo?</span><br><span class="line">You will get:</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>!,'100,&lt;50,s10,h</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">This looks cryptic. Let&#x27;s break it down:</span><br><span class="line">- `!` saves global variables that start with an uppercase letter and don&#x27;t contain lowercase letters. Recall that `g:` indicates a global variable. For example, if at some point you wrote the assignment `let g:FOO = &quot;foo&quot;`, Viminfo will save the global variable `FOO`. However if you did `let g:Foo = &quot;foo&quot;`, Viminfo will not save this global variable because it contains lowercase letters.</span><br><span class="line">- `&#x27;100` represents marks. In this case, Viminfo will save the local marks (a-z) of the last 100 files. Be aware that if you tell Viminfo to save too many files, Vim can start slowing down. 1000 is a good number to have.</span><br><span class="line">- `&lt;50` tells Viminfo how many maximum lines are saved for each register (50 in this case). If I yank 100 lines of text into register a (`&quot;ay99j`) and close Vim, the next time I open Vim and paste from register a (`&quot;ap`), Vim will only paste 50 lines max. If you don&#x27;t give maximum line number, *all* lines will be saved. If you give it 0, nothing will be saved.</span><br><span class="line">- `s10` sets a size limit (in kb) for a register. In this case, any register greater than 10kb size will be excluded.</span><br><span class="line">- `h` disables highlighting (from `hlsearch`) when Vim starts.</span><br></pre></td></tr></table></figure>
<h2 id="Multiple-File-Operations">Multiple File Operations</h2>
<h3 id="Different-Ways-to-Execute-a-Command-in-Multiple-Files">Different Ways to Execute a Command in Multiple Files</h3>
<p>Vim has eight ways to execute commands across multiple files:</p>
<ul>
<li>arg list (<code>argdo</code>)</li>
<li>buffer list (<code>bufdo</code>)</li>
<li>window list (<code>windo</code>)</li>
<li>tab list (<code>tabdo</code>)</li>
<li>quickfix list (<code>cdo</code>)</li>
<li>quickfix list filewise (<code>cfdo</code>)</li>
<li>location list (<code>ldo</code>)</li>
<li>location list filewise (<code>lfdo</code>)</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">##Argument List</span><br><span class="line">:args file1 file2 file3  &quot;create a list. To view the list of files, run &#x27;:args&#x27;</span><br><span class="line">:arga file5 file 5       &quot;add &#x27;file4&#x27; and &#x27;file5&#x27; into your initial files list.</span><br><span class="line"></span><br><span class="line">##Location List</span><br><span class="line">&quot;you may only have one quickfix list, whereas you can have as many location list as windows. Vim creates a distinct location list for each window.</span><br><span class="line">:lvim /bagel/ **/*.md    &quot;the location variant for the &#x27;:vimgrep&#x27; command</span><br><span class="line">:lopen</span><br><span class="line">:lclose</span><br><span class="line">:lfirst</span><br><span class="line">:llast</span><br><span class="line">:lnext</span><br><span class="line">:lprev</span><br><span class="line">:lgrep</span><br><span class="line">:lmake</span><br></pre></td></tr></table></figure>
</div><div class="article-licensing box"><div class="licensing-title"><p>vim-usage</p><p><a href="http://blog.ndoskrnl.net/zh-cn/computer/2020/vim-usage/">http://blog.ndoskrnl.net/zh-cn/computer/2020/vim-usage/</a></p></div><div class="licensing-meta level is-mobile"><div class="level-left"><div class="level-item is-narrow"><div><h6>Author</h6><p>Ndoskrnl</p></div></div><div class="level-item is-narrow"><div><h6>Posted on</h6><p>2020-09-05</p></div></div><div class="level-item is-narrow"><div><h6>Updated on</h6><p>2022-04-14</p></div></div><div class="level-item is-narrow"><div><h6>Licensed under</h6><p><a class="icons" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="icon fab fa-creative-commons"></i></a><a class="icons" rel="noopener" target="_blank" title="Attribution" href="https://creativecommons.org/licenses/by/4.0/"><i class="icon fab fa-creative-commons-by"></i></a><a class="icons" rel="noopener" target="_blank" title="Noncommercial" href="https://creativecommons.org/licenses/by-nc/4.0/"><i class="icon fab fa-creative-commons-nc"></i></a></p></div></div></div></div></div><!--!--></article></div><!--!--><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/zh-cn/learn/2020/data-structure/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">data_structure</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/zh-cn/computer/2020/make-a-risc-v-cpu/"><span class="level-item">make-a-risc-v-cpu</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><!--!--></div><div class="column column-left is-4-tablet is-4-desktop is-4-widescreen  order-1 is-sticky"><div class="card widget" id="toc" data-type="toc"><div class="card-content"><div class="menu"><h3 class="menu-label">Catalogue</h3><ul class="menu-list"><li><a class="level is-mobile" href="#Ch-02-Buffers-Windows-and-Tabs"><span class="level-left"><span class="level-item">1</span><span class="level-item">Ch 02 - Buffers, Windows, and Tabs</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#Buffers"><span class="level-left"><span class="level-item">1.1</span><span class="level-item">Buffers</span></span></a></li><li><a class="level is-mobile" href="#Windows-A-window-is-how-you-are-viewing-a-buffer-through"><span class="level-left"><span class="level-item">1.2</span><span class="level-item">Windows: A window is how you are viewing a buffer through</span></span></a></li><li><a class="level is-mobile" href="#Tabs-A-tab-is-a-collection-of-windows"><span class="level-left"><span class="level-item">1.3</span><span class="level-item">Tabs: A tab is a collection of windows</span></span></a></li></ul></li><li><a class="level is-mobile" href="#Ch03-Searching-Files"><span class="level-left"><span class="level-item">2</span><span class="level-item">Ch03. Searching Files</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#Searching-in-Files-With-Grep"><span class="level-left"><span class="level-item">2.1</span><span class="level-item">Searching in Files With Grep</span></span></a></li><li><a class="level is-mobile" href="#Browsing-Files-With-Netrw"><span class="level-left"><span class="level-item">2.2</span><span class="level-item">Browsing Files With Netrw</span></span></a></li><li><a class="level is-mobile" href="#Fzf"><span class="level-left"><span class="level-item">2.3</span><span class="level-item">Fzf</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#Search-and-Replace-in-Multiple-Files"><span class="level-left"><span class="level-item">2.3.1</span><span class="level-item">Search and Replace in Multiple Files</span></span></a></li></ul></li></ul></li><li><a class="level is-mobile" href="#Ch04-Vim-Grammar"><span class="level-left"><span class="level-item">3</span><span class="level-item">Ch04. Vim Grammar</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#Grammar-Rule"><span class="level-left"><span class="level-item">3.1</span><span class="level-item">Grammar Rule</span></span></a></li><li><a class="level is-mobile" href="#More-Nouns-Text-Objects"><span class="level-left"><span class="level-item">3.2</span><span class="level-item">More Nouns (Text Objects)</span></span></a></li></ul></li><li><a class="level is-mobile" href="#Ch05-Moving-in-a-File"><span class="level-left"><span class="level-item">4</span><span class="level-item">Ch05. Moving in a File</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#Character-Navigation"><span class="level-left"><span class="level-item">4.1</span><span class="level-item">Character Navigation</span></span></a></li><li><a class="level is-mobile" href="#Current-Line-Navigation"><span class="level-left"><span class="level-item">4.2</span><span class="level-item">Current Line Navigation</span></span></a></li><li><a class="level is-mobile" href="#Sentence-and-Paragraph-Navigation"><span class="level-left"><span class="level-item">4.3</span><span class="level-item">Sentence and Paragraph Navigation</span></span></a></li><li><a class="level is-mobile" href="#Line-Number-Navigation"><span class="level-left"><span class="level-item">4.4</span><span class="level-item">Line Number Navigation</span></span></a></li><li><a class="level is-mobile" href="#Window-Navigation"><span class="level-left"><span class="level-item">4.5</span><span class="level-item">Window Navigation</span></span></a></li><li><a class="level is-mobile" href="#Scrolling"><span class="level-left"><span class="level-item">4.6</span><span class="level-item">Scrolling</span></span></a></li><li><a class="level is-mobile" href="#Search-Navigation"><span class="level-left"><span class="level-item">4.7</span><span class="level-item">Search Navigation</span></span></a></li><li><a class="level is-mobile" href="#Marking-Position"><span class="level-left"><span class="level-item">4.8</span><span class="level-item">Marking Position</span></span></a></li><li><a class="level is-mobile" href="#Jump"><span class="level-left"><span class="level-item">4.9</span><span class="level-item">Jump</span></span></a></li></ul></li><li><a class="level is-mobile" href="#Ch06-Insert-Mode"><span class="level-left"><span class="level-item">5</span><span class="level-item">Ch06. Insert Mode</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#Ways-to-Go-to-Insert-Mode"><span class="level-left"><span class="level-item">5.1</span><span class="level-item">Ways to Go to Insert Mode</span></span></a></li><li><a class="level is-mobile" href="#Different-Ways-to-Exit-Insert-Mode"><span class="level-left"><span class="level-item">5.2</span><span class="level-item">Different Ways to Exit Insert Mode</span></span></a></li><li><a class="level is-mobile" href="#Repeating-Insert-Mode"><span class="level-left"><span class="level-item">5.3</span><span class="level-item">Repeating Insert Mode</span></span></a></li><li><a class="level is-mobile" href="#Deleting-Chunks-in-Insert-Mode"><span class="level-left"><span class="level-item">5.4</span><span class="level-item">Deleting Chunks in Insert Mode</span></span></a></li><li><a class="level is-mobile" href="#Insert-From-Register"><span class="level-left"><span class="level-item">5.5</span><span class="level-item">Insert From Register</span></span></a></li><li><a class="level is-mobile" href="#Scrolling-Inside-Insert-Mode"><span class="level-left"><span class="level-item">5.6</span><span class="level-item">Scrolling Inside Insert Mode</span></span></a></li><li><a class="level is-mobile" href="#Autocompletion"><span class="level-left"><span class="level-item">5.7</span><span class="level-item">Autocompletion</span></span></a></li><li><a class="level is-mobile" href="#Executing-a-Normal-Mode-Command"><span class="level-left"><span class="level-item">5.8</span><span class="level-item">Executing a Normal Mode Command</span></span></a></li></ul></li><li><a class="level is-mobile" href="#Ch07-the-Dot-Command"><span class="level-left"><span class="level-item">6</span><span class="level-item">Ch07. the Dot Command</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#What-Is-a-Change"><span class="level-left"><span class="level-item">6.1</span><span class="level-item">What Is a Change?</span></span></a></li><li><a class="level is-mobile" href="#Multi-line-Repeat"><span class="level-left"><span class="level-item">6.2</span><span class="level-item">Multi-line Repeat</span></span></a></li><li><a class="level is-mobile" href="#Including-a-Motion-in-a-Change"><span class="level-left"><span class="level-item">6.3</span><span class="level-item">Including a Motion in a Change</span></span></a></li></ul></li><li><a class="level is-mobile" href="#Ch08-Registers"><span class="level-left"><span class="level-item">7</span><span class="level-item">Ch08. Registers</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#Register-Operators"><span class="level-left"><span class="level-item">7.1</span><span class="level-item">Register Operators</span></span></a></li><li><a class="level is-mobile" href="#Calling-Registers-From-Insert-Mode"><span class="level-left"><span class="level-item">7.2</span><span class="level-item">Calling Registers From Insert Mode</span></span></a></li><li><a class="level is-mobile" href="#The-Unnamed-Register"><span class="level-left"><span class="level-item">7.3</span><span class="level-item">The Unnamed Register</span></span></a></li><li><a class="level is-mobile" href="#The-Numbered-Registers"><span class="level-left"><span class="level-item">7.4</span><span class="level-item">The Numbered Registers</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#The-Yanked-Register"><span class="level-left"><span class="level-item">7.4.1</span><span class="level-item">The Yanked Register</span></span></a></li><li><a class="level is-mobile" href="#The-Non-zero-Numbered-Registers"><span class="level-left"><span class="level-item">7.4.2</span><span class="level-item">The Non-zero Numbered Registers</span></span></a></li></ul></li><li><a class="level is-mobile" href="#The-Small-Delete-Register"><span class="level-left"><span class="level-item">7.5</span><span class="level-item">The Small Delete Register</span></span></a></li><li><a class="level is-mobile" href="#The-Named-Register"><span class="level-left"><span class="level-item">7.6</span><span class="level-item">The Named Register</span></span></a></li><li><a class="level is-mobile" href="#The-Read-only-Registers"><span class="level-left"><span class="level-item">7.7</span><span class="level-item">The Read-only Registers</span></span></a></li><li><a class="level is-mobile" href="#The-Alternate-File-Register"><span class="level-left"><span class="level-item">7.8</span><span class="level-item">The Alternate File Register</span></span></a></li><li><a class="level is-mobile" href="#The-Expression-Register"><span class="level-left"><span class="level-item">7.9</span><span class="level-item">The Expression Register</span></span></a></li><li><a class="level is-mobile" href="#The-Selection-Registers"><span class="level-left"><span class="level-item">7.10</span><span class="level-item">The Selection Registers</span></span></a></li><li><a class="level is-mobile" href="#The-Black-Hole-Register"><span class="level-left"><span class="level-item">7.11</span><span class="level-item">The Black Hole Register</span></span></a></li><li><a class="level is-mobile" href="#The-Last-Search-Pattern-Register"><span class="level-left"><span class="level-item">7.12</span><span class="level-item">The Last Search Pattern Register</span></span></a></li><li><a class="level is-mobile" href="#Viewing-the-Registers"><span class="level-left"><span class="level-item">7.13</span><span class="level-item">Viewing the Registers</span></span></a></li><li><a class="level is-mobile" href="#Clearing-a-Register"><span class="level-left"><span class="level-item">7.14</span><span class="level-item">Clearing a Register</span></span></a></li><li><a class="level is-mobile" href="#Putting-the-Content-of-a-Register"><span class="level-left"><span class="level-item">7.15</span><span class="level-item">Putting the Content of a Register</span></span></a></li></ul></li><li><a class="level is-mobile" href="#Ch09-Macros"><span class="level-left"><span class="level-item">8</span><span class="level-item">Ch09. Macros</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#Basic-Macros"><span class="level-left"><span class="level-item">8.1</span><span class="level-item">Basic Macros</span></span></a></li><li><a class="level is-mobile" href="#Command-Line-Macro"><span class="level-left"><span class="level-item">8.2</span><span class="level-item">Command Line Macro</span></span></a></li><li><a class="level is-mobile" href="#Executing-a-Macro-Across-Multiple-Files"><span class="level-left"><span class="level-item">8.3</span><span class="level-item">Executing a Macro Across Multiple Files</span></span></a></li><li><a class="level is-mobile" href="#Recursive-Macro"><span class="level-left"><span class="level-item">8.4</span><span class="level-item">Recursive Macro</span></span></a></li><li><a class="level is-mobile" href="#Appending-a-Macro"><span class="level-left"><span class="level-item">8.5</span><span class="level-item">Appending a Macro</span></span></a></li><li><a class="level is-mobile" href="#Amending-a-Macro"><span class="level-left"><span class="level-item">8.6</span><span class="level-item">Amending a Macro</span></span></a></li><li><a class="level is-mobile" href="#Macro-Redundancy"><span class="level-left"><span class="level-item">8.7</span><span class="level-item">Macro Redundancy</span></span></a></li><li><a class="level is-mobile" href="#Series-vs-Parallel-Macro"><span class="level-left"><span class="level-item">8.8</span><span class="level-item">Series vs Parallel Macro</span></span></a></li></ul></li><li><a class="level is-mobile" href="#Ch10-Undo"><span class="level-left"><span class="level-item">9</span><span class="level-item">Ch10. Undo</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#Breaking-the-Blocks"><span class="level-left"><span class="level-item">9.1</span><span class="level-item">Breaking the Blocks</span></span></a></li><li><a class="level is-mobile" href="#Undo-Tree"><span class="level-left"><span class="level-item">9.2</span><span class="level-item">Undo Tree</span></span></a></li><li><a class="level is-mobile" href="#Persistent-Undo"><span class="level-left"><span class="level-item">9.3</span><span class="level-item">Persistent Undo</span></span></a></li><li><a class="level is-mobile" href="#Time-Travel"><span class="level-left"><span class="level-item">9.4</span><span class="level-item">Time Travel</span></span></a></li></ul></li><li><a class="level is-mobile" href="#Ch11-Visual-Mode"><span class="level-left"><span class="level-item">10</span><span class="level-item">Ch11. Visual Mode</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#The-Three-Types-of-Visual-Modes"><span class="level-left"><span class="level-item">10.1</span><span class="level-item">The Three Types of Visual Modes</span></span></a></li><li><a class="level is-mobile" href="#Visual-Mode-Navigation"><span class="level-left"><span class="level-item">10.2</span><span class="level-item">Visual Mode Navigation</span></span></a></li><li><a class="level is-mobile" href="#Visual-Mode-Grammar"><span class="level-left"><span class="level-item">10.3</span><span class="level-item">Visual Mode Grammar</span></span></a></li><li><a class="level is-mobile" href="#Adding-Text-on-Multiple-Lines"><span class="level-left"><span class="level-item">10.4</span><span class="level-item">Adding Text on Multiple Lines</span></span></a></li><li><a class="level is-mobile" href="#Incrementing-Numbers"><span class="level-left"><span class="level-item">10.5</span><span class="level-item">Incrementing Numbers</span></span></a></li></ul></li><li><a class="level is-mobile" href="#Ch12-Search-and-Substitute"><span class="level-left"><span class="level-item">11</span><span class="level-item">Ch12. Search and Substitute</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#Smart-Case-Sensitivity"><span class="level-left"><span class="level-item">11.1</span><span class="level-item">Smart Case Sensitivity</span></span></a></li><li><a class="level is-mobile" href="#Repeating-Search"><span class="level-left"><span class="level-item">11.2</span><span class="level-item">Repeating Search</span></span></a></li><li><a class="level is-mobile" href="#Repeating-the-Last-Substitution"><span class="level-left"><span class="level-item">11.3</span><span class="level-item">Repeating the Last Substitution</span></span></a></li><li><a class="level is-mobile" href="#Substitution-Range"><span class="level-left"><span class="level-item">11.4</span><span class="level-item">Substitution Range</span></span></a></li><li><a class="level is-mobile" href="#Substitution-Flags"><span class="level-left"><span class="level-item">11.5</span><span class="level-item">Substitution Flags</span></span></a></li><li><a class="level is-mobile" href="#Changing-the-Delimiter"><span class="level-left"><span class="level-item">11.6</span><span class="level-item">Changing the Delimiter</span></span></a></li></ul></li><li><a class="level is-mobile" href="#Ch13-the-Global-Command"><span class="level-left"><span class="level-item">12</span><span class="level-item">Ch13. the Global Command</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#Global-Command-Overview"><span class="level-left"><span class="level-item">12.1</span><span class="level-item">Global Command Overview</span></span></a></li><li><a class="level is-mobile" href="#Inverse-Match"><span class="level-left"><span class="level-item">12.2</span><span class="level-item">Inverse Match</span></span></a></li><li><a class="level is-mobile" href="#Reversing-the-Entire-Buffer"><span class="level-left"><span class="level-item">12.3</span><span class="level-item">Reversing the Entire Buffer</span></span></a></li><li><a class="level is-mobile" href="#Aggregating-All-Todos"><span class="level-left"><span class="level-item">12.4</span><span class="level-item">Aggregating All Todos</span></span></a></li><li><a class="level is-mobile" href="#Black-Hole-Delete"><span class="level-left"><span class="level-item">12.5</span><span class="level-item">Black Hole Delete</span></span></a></li><li><a class="level is-mobile" href="#Reduce-Multiple-Empty-Lines-to-One-Empty-Line"><span class="level-left"><span class="level-item">12.6</span><span class="level-item">Reduce Multiple Empty Lines to One Empty Line</span></span></a></li><li><a class="level is-mobile" href="#Advanced-Sort"><span class="level-left"><span class="level-item">12.7</span><span class="level-item">Advanced Sort</span></span></a></li></ul></li><li><a class="level is-mobile" href="#Ch14-External-Commands"><span class="level-left"><span class="level-item">13</span><span class="level-item">Ch14. External Commands</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#Reading-the-STDOUT-of-a-Command-Into-Vim"><span class="level-left"><span class="level-item">13.1</span><span class="level-item">Reading the STDOUT of a Command Into Vim</span></span></a></li><li><a class="level is-mobile" href="#Writing-the-Buffer-Content-Into-an-External-Command"><span class="level-left"><span class="level-item">13.2</span><span class="level-item">Writing the Buffer Content Into an External Command</span></span></a></li><li><a class="level is-mobile" href="#Filtering-Texts"><span class="level-left"><span class="level-item">13.3</span><span class="level-item">Filtering Texts</span></span></a></li><li><a class="level is-mobile" href="#Normal-Mode-Command"><span class="level-left"><span class="level-item">13.4</span><span class="level-item">Normal Mode Command</span></span></a></li></ul></li><li><a class="level is-mobile" href="#Ch15-Command-line-Mode"><span class="level-left"><span class="level-item">14</span><span class="level-item">Ch15. Command-line Mode</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#Command-line-Mode-Shortcuts"><span class="level-left"><span class="level-item">14.1</span><span class="level-item">Command-line Mode Shortcuts</span></span></a></li></ul></li><li><a class="level is-mobile" href="#Ch16-Tags"><span class="level-left"><span class="level-item">15</span><span class="level-item">Ch16. Tags</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#The-Tag-File"><span class="level-left"><span class="level-item">15.1</span><span class="level-item">The Tag File</span></span></a></li><li><a class="level is-mobile" href="#Generating-Tags-for-a-Large-Project"><span class="level-left"><span class="level-item">15.2</span><span class="level-item">Generating Tags for a Large Project</span></span></a></li><li><a class="level is-mobile" href="#Using-Plugins-to-generate-Tags-on-save"><span class="level-left"><span class="level-item">15.3</span><span class="level-item">Using Plugins to generate Tags on save</span></span></a></li></ul></li><li><a class="level is-mobile" href="#Ch17-Fold"><span class="level-left"><span class="level-item">16</span><span class="level-item">Ch17. Fold</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#Expression-Fold"><span class="level-left"><span class="level-item">16.1</span><span class="level-item">Expression Fold</span></span></a></li></ul></li><li><a class="level is-mobile" href="#Ch18-Git"><span class="level-left"><span class="level-item">17</span><span class="level-item">Ch18. Git</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#Diffing"><span class="level-left"><span class="level-item">17.1</span><span class="level-item">Diffing</span></span></a></li><li><a class="level is-mobile" href="#Vim-As-a-Merge-Tool"><span class="level-left"><span class="level-item">17.2</span><span class="level-item">Vim As a Merge Tool</span></span></a></li><li><a class="level is-mobile" href="#Git-Inside-Vim"><span class="level-left"><span class="level-item">17.3</span><span class="level-item">Git Inside Vim</span></span></a></li><li><a class="level is-mobile" href="#Vim-fugitive"><span class="level-left"><span class="level-item">17.4</span><span class="level-item">Vim-fugitive</span></span></a></li></ul></li><li><a class="level is-mobile" href="#Ch19-Compile"><span class="level-left"><span class="level-item">18</span><span class="level-item">Ch19. Compile</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#Plugin-Vim-dispatch"><span class="level-left"><span class="level-item">18.1</span><span class="level-item">Plugin: Vim-dispatch</span></span></a></li></ul></li><li><a class="level is-mobile" href="#Ch20-Views-Sessions-and-Viminfo"><span class="level-left"><span class="level-item">19</span><span class="level-item">Ch20. Views, Sessions, and Viminfo</span></span></a></li><li><a class="level is-mobile" href="#Multiple-File-Operations"><span class="level-left"><span class="level-item">20</span><span class="level-item">Multiple File Operations</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#Different-Ways-to-Execute-a-Command-in-Multiple-Files"><span class="level-left"><span class="level-item">20.1</span><span class="level-item">Different Ways to Execute a Command in Multiple Files</span></span></a></li></ul></li></ul></div></div><style>#toc .menu-list > li > a.is-active + .menu-list { display: block; }#toc .menu-list > li > a + .menu-list { display: none; }</style><script src="/js/toc.js" defer></script></div><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">Categories</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/computer/"><span class="level-start"><span class="level-item">computer</span></span><span class="level-end"><span class="level-item tag">14</span></span></a></li><li><a class="level is-mobile" href="/categories/daily-life/"><span class="level-start"><span class="level-item">daily-life</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/categories/ideology-and-politics/"><span class="level-start"><span class="level-item">ideology-and-politics</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/learn/"><span class="level-start"><span class="level-item">learn</span></span><span class="level-end"><span class="level-item tag">17</span></span></a><ul><li><a class="level is-mobile" href="/categories/learn/mathematics/"><span class="level-start"><span class="level-item">mathematics</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/minecraft/"><span class="level-start"><span class="level-item">minecraft</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li></ul></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">Tags</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/electronic-and-information-engineering/"><span class="tag">electronic-and-information-engineering</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/mathematics/"><span class="tag">mathematics</span><span class="tag">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/postgraduate/"><span class="tag">postgraduate</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/senior-high-schoool/"><span class="tag">senior-high-schoool</span><span class="tag">1</span></a></div></div></div></div></div></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/Comet_symbol.svg" alt="钱桑の记事本&gt;_" height="28"></a><p class="is-size-7"><span>&copy; 2022 Ndoskrnl</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("zh-cn");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="Back to top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css"><script src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/contrib/auto-render.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/contrib/mhchem.min.js" defer></script><script>window.addEventListener("load", function() {
            document.querySelectorAll('[role="article"] > .content').forEach(function(element) {
                renderMathInElement(element);
            });
        });</script><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"Type something...","untitled":"(Untitled)","posts":"Posts","pages":"Pages","categories":"Categories","tags":"Tags"});
        });</script><!-- hexo injector body_end start -->
    <script>
    (() => {
        function switchTab() {
            if (!location.hash) {
              return;
            }
            Array
                .from(document.querySelectorAll('.tab-content'))
                .forEach($tab => {
                    $tab.classList.add('is-hidden');
                });
            Array
                .from(document.querySelectorAll('.tabs li'))
                .forEach($tab => {
                    $tab.classList.remove('is-active');
                });
            const $activeTab = document.querySelector(location.hash);
            if ($activeTab) {
                $activeTab.classList.remove('is-hidden');
            }
            const $tabMenu = document.querySelector(`a[href="${location.hash}"]`);
            if ($tabMenu) {
                $tabMenu.parentElement.classList.add('is-active');
            }
        }
        switchTab();
        window.addEventListener('hashchange', switchTab, false);
    })();
    </script>
    <!-- hexo injector body_end end --></body></html>